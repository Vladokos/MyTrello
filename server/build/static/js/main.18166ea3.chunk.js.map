{"version":3,"sources":["components/blanks/CrossMark.js","components/form/SignInFrom.js","components/form/RegistrationForm.js","components/blanks/CorrectMark.js","components/form/ForgotForm.js","components/form/ResetForm.js","config.js","features/boards/boardsSlice.js","components/blanks/Loader.js","hooks/OutsideClick.js","img/avatar.svg","components/blanks/BurgerButton.js","components/blanks/Header.js","components/CreateBoards.js","img/starUnchecked.svg","img/starChecked.svg","components/Boards.js","features/lists/listsSlice.js","features/card/cardsSlice.js","hooks/heightWindowHook.js","components/board/Menu.js","components/board/BoardName.js","img/description.svg","components/board/Card.js","components/board/CreateCard.js","img/dots.svg","components/board/List.js","components/board/CreateList.js","img/recycling.svg","img/archive.svg","components/board/ChangeCard.js","components/board/ChangeNameCard.js","img/restore.svg","components/board/ArchiveList.js","components/board/ArchiveCard.js","components/board/ShareBoard.js","img/makeLink.svg","components/board/Board.js","components/ValidateInvite.js","components/profile/Profile.js","components/NotFound.js","App.js","app/store.js","index.js"],"names":["CrossMark","dataExists","close","text","className","width","height","viewBox","fill","xmlns","cx","cy","r","strokeWidth","x1","y1","x2","y2","onClick","SignInFrom","socket","useState","email","setEmail","password","setPassword","incorrect","setIncorrect","setDataExists","navigate","useNavigate","validateMail","useEffect","refreshToken","localStorage","getItem","emit","JSON","parse","on","data","userName","accessToken","setItem","stringify","off","console","log","style","type","name","placeholder","value","onChange","e","target","onBlur","test","to","preventDefault","length","RegistrationForm","setName","CorrectMark","successfully","d","strokeLinecap","ForgotForm","setSuccessfully","closeWindow","ResetForm","params","useParams","token","axiosInstance","axios","create","baseURL","getBoard","createAsyncThunk","id","a","get","then","response","getBoards","addBoards","nameBoard","config","headers","Accept","method","url","idUser","catch","error","changeLists","position","boardId","currentListId","changeName","addFavorites","removeFavorites","changeData","date","boardsSlice","createSlice","initialState","boards","status","reducers","extraReducers","builder","addCase","pending","state","action","fulfilled","payload","push","i","_id","favorites","lastVisiting","Loader","OutsideClick","ref","closeModal","handleClickOutside","event","current","contains","document","addEventListener","removeEventListener","BurgerButton","Switch","switchState","Header","createShow","userId","profileShow","setProfileShow","resentShow","setResentShow","favoritesShow","setFavoritesShow","menuShow","setMenuShow","visibleProfileMenu","profileRef","useRef","recentRef","favoritesRef","sort","b","map","board","index","src","avatar","sessionStorage","removeItem","firstUpdate","CreateBoards","changeShow","dispatch","useDispatch","setNameBoard","menuRef","boardName","trim","Boards","useSelector","favoritesBoards","setFavorites","recent","setRecent","setCreateShow","heightBody","setHeightBody","newToken","favoriteAction","favorite","heightRef","clientHeight","minHeight","starUnchecked","starChecked","getLists","getList","listId","addList","nameList","changeCards","fromListId","toListId","cardId","deleteList","archiveList","unarchiveList","listsSlice","lists","sortingLists","getUsedBoard","orderLists","result","j","removeList","splice","oldList","newList","undefined","archived","actions","getCards","getCard","addCard","nameCard","changeDescription","description","deleteCard","archiveCard","unarchiveCard","cardsSlice","cards","removeCard","descriptionCard","getWindowHeight","window","innerHeight","useWindowHeight","windowHeight","setWindowHeight","currentBoard","BoardName","visibleInput","onKeyDown","key","keyCode","roomId","message","Card","card","visibleChangeCard","visibleChangeNameCard","draggableId","provided","innerRef","draggableProps","dragHandleProps","descriptionImg","CreateCard","formShow","closeForm","setNameCard","createCard","replace","cardInput","focus","cardFormRef","List","listName","listCards","setNameList","actionShow","setActionShow","cardCreateShow","setCardCreateShow","actionsFrom","nameInput","sendForm","blur","deletingList","archivingList","spellCheck","dots","droppableId","droppableProps","maxHeight","CreateList","listFormShow","setListFormShow","visibleListCreate","createList","listInput","listFormRef","ChangeCard","changeCard","isOpen","setDescription","visible","setVisible","form","descript","left","display","onFocus","recycling","archive","ChangeNameCard","changeNameCard","xPos","yPos","backgroundColor","transform","ArchiveList","back","list","restore","ArchiveCard","ShareBoard","shareLink","link","setLink","readOnly","newLink","uniqid","Menu","useMemo","menuOpen","setMenuOpen","archiveListOpen","setArchiveListOpen","archiveCardOpen","setArchiveCardOpen","shareBoard","setShareBoard","menu","owner","Board","setFirstUpdate","setChangeCard","setChangeNameCard","setDescriptionCard","setCardId","setXPos","setYPos","connect","setConnect","innerText","getBoundingClientRect","x","y","Date","now","drag","setDrag","onDragStart","onDragEnd","destination","source","onDrop","direction","ValidateInvite","location","href","Profile","useLayoutEffect","oldName","NotFound","App","path","element","store","configureStore","reducer","boardsReducer","io","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.18166ea3.chunk.js","sourcesContent":["import React from \"react\";\r\n\r\nimport \"../../styles/Marks.css\";\r\n\r\nexport const CrossMark = ({dataExists, close, text}) => {\r\n\r\n    return (\r\n        <div className={!dataExists ? \"notExist\" : \"exist\"}>\r\n        <svg\r\n          className=\"checkmark\"\r\n          width=\"297\"\r\n          height=\"297\"\r\n          viewBox=\"0 0 297 297\"\r\n          fill=\"none\"\r\n          xmlns=\"http://www.w3.org/2000/svg\"\r\n        >\r\n          <g className=\"Error\">\r\n            <circle\r\n              className=\"Ellipse\"\r\n              cx=\"148.5\"\r\n              cy=\"148.5\"\r\n              r=\"143.5\"\r\n              strokeWidth=\"10\"\r\n            />\r\n            <line\r\n              className=\"Line1\"\r\n              x1=\"92.506\"\r\n              y1=\"88.0566\"\r\n              x2=\"209.506\"\r\n              y2=\"208.057\"\r\n              strokeWidth=\"7\"\r\n            />\r\n            <line\r\n              className=\"Line2\"\r\n              x1=\"209.506\"\r\n              y1=\"88.4434\"\r\n              x2=\"92.506\"\r\n              y2=\"208.443\"\r\n              strokeWidth=\"7\"\r\n            />\r\n          </g>\r\n        </svg>\r\n        {text}\r\n        <br />\r\n        <button className=\"closePopup\" onClick={close}>\r\n          Close\r\n        </button>\r\n      </div>\r\n    )\r\n}","import React, { useState, useEffect } from \"react\";\r\n\r\nimport { Link, useNavigate } from \"react-router-dom\";\r\n\r\nimport { CrossMark } from \"../blanks/CrossMark\";\r\n\r\nexport const SignInFrom = ({ socket, height }) => {\r\n  const [email, setEmail] = useState(\"\");\r\n  const [password, setPassword] = useState(\"\");\r\n  const [incorrect, setIncorrect] = useState(false);\r\n  const [dataExists, setDataExists] = useState(false);\r\n\r\n  const navigate = useNavigate();\r\n\r\n  const validateMail =\r\n    /[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?/;\r\n\r\n  const onEmailChange = (e) => setEmail(e.target.value);\r\n  const onPasswordChange = (e) => setPassword(e.target.value);\r\n\r\n  const validate = (e) => {\r\n    if (validateMail.test(e.target.value)) {\r\n      setIncorrect(false);\r\n    } else {\r\n      setIncorrect(true);\r\n    }\r\n  };\r\n\r\n  const closeWindow = (e) => {\r\n    e.preventDefault();\r\n    setDataExists(false);\r\n  };\r\n\r\n  useEffect(() => {\r\n    const refreshToken = localStorage.getItem(\"refreshToken\");\r\n\r\n    if (refreshToken) {\r\n      socket.emit(\"oldUser\", JSON.parse(refreshToken));\r\n    }\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    socket.on(\"oldUser\", (data) => {\r\n      if (data !== \"Error\") {\r\n        const { userName, refreshToken, accessToken } = data;\r\n\r\n        localStorage.setItem(\"accessToken\", JSON.stringify(accessToken));\r\n\r\n        localStorage.setItem(\"refreshToken\", JSON.stringify(refreshToken));\r\n\r\n        localStorage.setItem(\"userName\", JSON.stringify(userName));\r\n\r\n        socket.off(\"oldUser\");\r\n\r\n        navigate(\"/\" + userName + \"/boards\");\r\n      }\r\n    });\r\n\r\n    socket.on(\"signIn\", (data) => {\r\n      console.log(data)\r\n      if (data !== \"Error\") {\r\n        const { userName, refreshToken, accessToken } = data;\r\n\r\n        localStorage.setItem(\"accessToken\", JSON.stringify(accessToken));\r\n\r\n        localStorage.setItem(\"refreshToken\", JSON.stringify(refreshToken));\r\n\r\n        localStorage.setItem(\"userName\", JSON.stringify(userName));\r\n\r\n        socket.off(\"signIn\");\r\n\r\n        navigate(\"/\" + userName + \"/boards\");\r\n      } else {\r\n        setDataExists(true);\r\n      }\r\n    });\r\n  }, [socket]);\r\n\r\n  const sendForm = (e) => {\r\n    e.preventDefault();\r\n\r\n    if (incorrect === false && password.length >= 6) {\r\n      console.log(\"first\");\r\n      socket.emit(\"signIn\", email, password);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"form\">\r\n      <div className=\"container\">\r\n        <div className=\"form__inner\" style={{ height: height }}>\r\n          <form className=\"signFrom\">\r\n            <div className=\"title\">Sign In</div>\r\n            <div className=\"inputs\">\r\n              <div className=\"incorrectMail\">\r\n                <span\r\n                  className={\r\n                    !incorrect ? \"incorrectMessage\" : \"incorrectMessage active\"\r\n                  }\r\n                >\r\n                  incorrect email\r\n                </span>\r\n              </div>\r\n              <input\r\n                type=\"text\"\r\n                name=\"email\"\r\n                placeholder=\"E-mail\"\r\n                value={email}\r\n                onChange={onEmailChange}\r\n                onBlur={validate}\r\n              />\r\n              <input\r\n                type=\"text\"\r\n                placeholder=\"Password\"\r\n                value={password}\r\n                onChange={onPasswordChange}\r\n              />\r\n            </div>\r\n            <div className=\"forgot\">\r\n              Forgot: <Link to=\"/forg\"> Username / Password? </Link>\r\n            </div>\r\n            <div className=\"sendform\">\r\n              <button onClick={sendForm}>SIGN IN</button>\r\n            </div>\r\n            <div className=\"no Account\">\r\n              Dont have an account?\r\n              <Link to=\"/reg\"> SIGN UP NOW </Link>\r\n            </div>\r\n          </form>\r\n          <CrossMark\r\n            dataExists={dataExists}\r\n            close={closeWindow}\r\n            text={\"Check right your email address and password\"}\r\n          />\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n","import React, { useState, useEffect } from \"react\";\r\n\r\nimport { Link, useNavigate } from \"react-router-dom\";\r\n\r\nimport { CrossMark } from \"../blanks/CrossMark\";\r\n\r\nexport const RegistrationForm = ({ socket, height }) => {\r\n  const [email, setEmail] = useState(\"\");\r\n  const [name, setName] = useState(\"\");\r\n  const [password, setPassword] = useState(\"\");\r\n  const [incorrect, setIncorrect] = useState(false);\r\n  const [dataExists, setDataExists] = useState(false);\r\n\r\n  const navigate = useNavigate();\r\n\r\n  const validateMail =\r\n    /[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?/;\r\n\r\n  const onEmailChange = (e) => setEmail(e.target.value);\r\n  const onNameChange = (e) => setName(e.target.value);\r\n  const onPasswordChange = (e) => setPassword(e.target.value);\r\n\r\n  const validate = (e) => {\r\n    if (validateMail.test(e.target.value)) {\r\n      setIncorrect(false);\r\n    } else {\r\n      setIncorrect(true);\r\n    }\r\n  };\r\n\r\n  const closeWindow = (e) => {\r\n    e.preventDefault();\r\n    setDataExists(false);\r\n  };\r\n\r\n  useEffect(() => {\r\n    const refreshToken = localStorage.getItem(\"refreshToken\");\r\n\r\n    if (refreshToken !== \"undefined\" && refreshToken !== null) {\r\n      socket.emit(\"oldUser\", JSON.parse(refreshToken));\r\n    }\r\n  }, []);\r\n  useEffect(() => {\r\n    socket.on(\"oldUser\", (data) => {\r\n      if (data !== \"Error\") {\r\n        const { userName, refreshToken, accessToken } = data;\r\n\r\n        localStorage.setItem(\"accessToken\", JSON.stringify(accessToken));\r\n\r\n        localStorage.setItem(\"refreshToken\", JSON.stringify(refreshToken));\r\n\r\n        localStorage.setItem(\"userName\", JSON.stringify(userName));\r\n\r\n        socket.off(\"oldUser\");\r\n\r\n        navigate(\"/\" + userName + \"/boards\");\r\n      }\r\n    });\r\n    socket.on(\"registration\", (data) => {\r\n      if (data !== \"Exist\") {\r\n\r\n        const { userName, refreshToken, accessToken } = data;\r\n\r\n\r\n        localStorage.setItem(\"accessToken\", JSON.stringify(accessToken));\r\n\r\n        localStorage.setItem(\"refreshToken\", JSON.stringify(refreshToken));\r\n\r\n        localStorage.setItem(\"userName\", JSON.stringify(userName));\r\n\r\n        socket.off(\"registration\");\r\n\r\n        navigate(\"/\" + userName + \"/boards\");\r\n      } else if (data === \"Exist\") {\r\n        setDataExists(true);\r\n      }\r\n    });\r\n  }, [socket]);\r\n\r\n  const sendForm = (e) => {\r\n    e.preventDefault();\r\n    if (incorrect === false && name.length > 0 && password.length >= 6) {\r\n      socket.emit(\"registration\", email, name, password);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"form\">\r\n      <div className=\"container\">\r\n      <div className=\"form__inner\" style={{'height': height}}>\r\n          <form className=\"regForm\">\r\n            <div className=\"title\">Sign Up</div>\r\n            <div className=\"inputs\">\r\n              <div className=\"incorrectMail\">\r\n                <span\r\n                  className={\r\n                    !incorrect ? \"incorrectMessage\" : \"incorrectMessage active\"\r\n                  }\r\n                >\r\n                  incorrect email\r\n                </span>\r\n              </div>\r\n              <input\r\n                type=\"text\"\r\n                name=\"email\"\r\n                placeholder=\"E-mail\"\r\n                value={email}\r\n                onChange={onEmailChange}\r\n                onBlur={validate}\r\n              />\r\n              <input\r\n                type=\"text\"\r\n                placeholder=\"Username\"\r\n                value={name}\r\n                onChange={onNameChange}\r\n              />\r\n              <input\r\n                type=\"text\"\r\n                placeholder=\"Password\"\r\n                value={password}\r\n                onChange={onPasswordChange}\r\n              />\r\n            </div>\r\n            <div className=\"sendform\">\r\n              <button onClick={sendForm}>SIGN UP</button>\r\n            </div>\r\n            <div className=\"have Account\">\r\n              Already have an account?\r\n              <Link to=\"/sig\"> LOGIN IN </Link>\r\n            </div>\r\n          </form>\r\n          <CrossMark\r\n            dataExists={dataExists}\r\n            close={closeWindow}\r\n            text={\"Check right your email address and password\"}\r\n          />\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n","import React from \"react\";\r\n\r\nimport \"../../styles/Marks.css\";\r\n\r\nexport const CorrectMark = ({successfully, close}) => {\r\n\r\n    return (\r\n        <div className={successfully ? \"successfully\" : \"unsuccessful\"}>\r\n        <svg\r\n          className=\"check\"\r\n          width=\"297\"\r\n          height=\"297\"\r\n          viewBox=\"0 0 297 297\"\r\n          fill=\"none\"\r\n          xmlns=\"http://www.w3.org/2000/svg\"\r\n        >\r\n          <g className=\"done\">\r\n            <circle\r\n              className=\"StokeRound\"\r\n              cx=\"148.5\"\r\n              cy=\"148.5\"\r\n              r=\"143.5\"\r\n              strokeWidth=\"10\"\r\n            />\r\n            <path\r\n              className=\"SmallLine\"\r\n              d=\"M66 142.565L134.634 200.069\"\r\n              strokeWidth=\"7\"\r\n              strokeLinecap=\"round\"\r\n            />\r\n            <line\r\n              className=\"BigLine\"\r\n              x1=\"231.493\"\r\n              y1=\"84.9316\"\r\n              x2=\"135.001\"\r\n              y2=\"199.576\"\r\n              strokeWidth=\"7\"\r\n              strokeLinecap=\"round\"\r\n            />\r\n          </g>\r\n        </svg>\r\n        Check your email, we sent you a link to reset your password\r\n        <br />\r\n        <button className=\"closePopup\" onClick={close}>\r\n          Close\r\n        </button>\r\n      </div>\r\n    )\r\n}","import React, { useEffect, useState } from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { CrossMark } from \"../blanks/CrossMark\";\r\nimport { CorrectMark } from \"../blanks/CorrectMark\";\r\n\r\nexport const ForgotForm = ({ socket, height }) => {\r\n  const [email, setEmail] = useState(\"\");\r\n  const [name, setName] = useState(\"\");\r\n  const [incorrect, setIncorrect] = useState(false);\r\n  const [dataExists, setDataExists] = useState(false);\r\n  const [successfully, setSuccessfully] = useState(false);\r\n\r\n  const validateMail =\r\n    /[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?/;\r\n\r\n  const onEmailChange = (e) => setEmail(e.target.value);\r\n  const onNameChange = (e) => setName(e.target.value);\r\n\r\n  const validate = (e) => {\r\n    if (validateMail.test(e.target.value)) {\r\n      setIncorrect(false);\r\n    } else {\r\n      setIncorrect(true);\r\n    }\r\n  };\r\n\r\n  const closeWindow = (e) => {\r\n    e.preventDefault();\r\n    setDataExists(false);\r\n    setSuccessfully(false);\r\n  };\r\n\r\n  const sendForm = (e) => {\r\n    e.preventDefault();\r\n    if (incorrect === false && email.length > 0) {\r\n      socket.emit(\"forgot\", email, name);\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    socket.on(\"forgot\", (data) => {\r\n      if (data === \"Success\") {\r\n        setSuccessfully(true);\r\n        socket.off(\"forgot\");\r\n      } else {\r\n        setDataExists(true);\r\n      }\r\n    });\r\n  }, [socket]);\r\n\r\n  return (\r\n    <div className=\"form\">\r\n      <div className=\"container\">\r\n      <div className=\"form__inner\" style={{'height': height}}>\r\n          <form className=\"forgetForm\">\r\n            <div className=\"title\">Recover data</div>\r\n            <div className=\"inputs\">\r\n              <div className=\"incorrectMail\">\r\n                <span\r\n                  className={\r\n                    !incorrect ? \"incorrectMessage\" : \"incorrectMessage active\"\r\n                  }\r\n                >\r\n                  incorrect email\r\n                </span>\r\n              </div>\r\n              <input\r\n                type=\"text\"\r\n                name=\"email\"\r\n                placeholder=\"E-mail\"\r\n                value={email}\r\n                onChange={onEmailChange}\r\n                onBlur={validate}\r\n              />\r\n              <input\r\n                type=\"text\"\r\n                placeholder=\"Username\"\r\n                value={name}\r\n                onChange={onNameChange}\r\n              />\r\n            </div>\r\n            <div className=\"sendform\">\r\n              <button onClick={sendForm}>Send data</button>\r\n            </div>\r\n            <div className=\"have Account\">\r\n              Back to\r\n              <Link to=\"/sig\"> SIGN IN </Link>\r\n            </div>\r\n          </form>\r\n          <CrossMark\r\n            dataExists={dataExists}\r\n            close={closeWindow}\r\n            text={\" A user with this email address or name does not exist\"}\r\n          />\r\n          <CorrectMark successfully={successfully} close={closeWindow} />\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n","import React, { useState, useEffect } from \"react\";\r\n\r\nimport { Link, useParams, useNavigate } from \"react-router-dom\";\r\n\r\nimport { CrossMark } from \"../blanks/CrossMark\";\r\n\r\nexport const ResetForm = ({ socket, height }) => {\r\n  const params = useParams();\r\n  const navigate = useNavigate();\r\n\r\n  const [password, setPassword] = useState(\"\");\r\n  const [dataExists, setDataExists] = useState(false);\r\n\r\n  const onPasswordChange = (e) => setPassword(e.target.value);\r\n\r\n  const closeWindow = (e) => {\r\n    e.preventDefault();\r\n    setDataExists(false);\r\n  };\r\n\r\n  useEffect(() => {\r\n    const token = params.token;\r\n    socket.emit(\"tokenValidate\", token);\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    socket.on(\"tokenValidate\", (data) => {\r\n      if (data !== \"Valid\") {\r\n        socket.off(\"tokenValidate\");\r\n\r\n        navigate(\"/error/404\");\r\n      }\r\n    });\r\n    socket.on(\"passwordReset\", (data) => {\r\n      if (data === \"Success\") {\r\n        socket.off(\"passwordReset\");\r\n\r\n        navigate(\"/sig\");\r\n      } else {\r\n        setDataExists(true);\r\n      }\r\n    });\r\n  }, [socket]);\r\n\r\n  const sendForm = (e) => {\r\n    e.preventDefault();\r\n\r\n    if (password.length > 6) {\r\n      const token = params.token;\r\n\r\n      socket.emit(\"passwordReset\", token, password);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"form\">\r\n      <div className=\"container\">\r\n      <div className=\"form__inner\" style={{'height': height}}>\r\n          <form className=\"forgetForm\">\r\n            <div className=\"title\">Recover password</div>\r\n            <div className=\"inputs\">\r\n              <input\r\n                type=\"text\"\r\n                placeholder=\"New password\"\r\n                value={password}\r\n                onChange={onPasswordChange}\r\n              />\r\n            </div>\r\n            <div className=\"sendform\">\r\n              <button onClick={sendForm}>Send data</button>\r\n            </div>\r\n            <div className=\"have Account\">\r\n              Back to\r\n              <Link to=\"/sig\"> SIGN IN </Link>\r\n            </div>\r\n          </form>\r\n          <CrossMark\r\n            dataExists={dataExists}\r\n            close={closeWindow}\r\n            text={\"Please use a password different from the old one\"}\r\n          />\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n","import axios from \"axios\";\r\n\r\nexport const axiosInstance = axios.create({\r\n  baseURL: ``,\r\n});\r\n\r\nexport const startUrl = ``;\r\n","import { createSlice, createAsyncThunk } from \"@reduxjs/toolkit\";\r\n\r\nimport { axiosInstance } from \"../../config\";\r\n\r\nconst initialState = {\r\n  boards: [],\r\n  status: \"idle\",\r\n};\r\n\r\nexport const getBoard = createAsyncThunk(\"boards/getBoard\", async (id) => {\r\n  const response = await axiosInstance\r\n    .get(\"/boards/\" + id + \"/one\")\r\n    .then((response) => {\r\n      return response.data;\r\n    });\r\n  return response;\r\n});\r\n\r\nexport const getBoards = createAsyncThunk(\"boards/getBoards\", async (id) => {\r\n  const response = await axiosInstance\r\n    .get(\"/boards/\" + id + \"/all\")\r\n    .then((response) => {\r\n      console.log(response)\r\n      return response.data;\r\n    });\r\n  return response;\r\n});\r\n\r\nexport const addBoards = createAsyncThunk(\r\n  \"boards/addBoard\",\r\n  async ({ id, nameBoard }) => {\r\n    const response = await axiosInstance({\r\n      config: {\r\n        headers: {\r\n          \"Content-Type\": \"application/json\",\r\n          Accept: \"application/json\",\r\n        },\r\n      },\r\n      method: \"POST\",\r\n      url: \"/boards/create\",\r\n      data: {\r\n        nameBoard,\r\n        idUser: id,\r\n      },\r\n    })\r\n      .then((response) => {\r\n        return response.data;\r\n      })\r\n      .catch((error) => {\r\n        console.log(error);\r\n      });\r\n    return response;\r\n  }\r\n);\r\n//  change name\r\nexport const changeLists = createAsyncThunk(\r\n  \"boards/changeListsPosition\",\r\n  async ({ position, boardId, currentListId }) => {\r\n    const response = await axiosInstance({\r\n      config: {\r\n        headers: {\r\n          \"Content-Type\": \"application/json\",\r\n          Accept: \"application/json\",\r\n        },\r\n      },\r\n      method: \"POST\",\r\n      url: \"/board/list/move\",\r\n      data: {\r\n        position,\r\n        boardId,\r\n        currentListId,\r\n      },\r\n    })\r\n      .then((response) => {\r\n        return response.data;\r\n      })\r\n      .catch((error) => {\r\n        console.log(error);\r\n      });\r\n    return response;\r\n  }\r\n);\r\n\r\nexport const changeName = createAsyncThunk(\r\n  \"boards/changeName\",\r\n  async ({ nameBoard, boardId }) => {\r\n    const response = await axiosInstance({\r\n      config: {\r\n        headers: {\r\n          \"Content-Type\": \"application/json\",\r\n          Accept: \"application/json\",\r\n        },\r\n      },\r\n      method: \"POST\",\r\n      url: \"/board/nameChange\",\r\n      data: {\r\n        nameBoard,\r\n        boardId,\r\n      },\r\n    })\r\n      .then((response) => {\r\n        return response.data;\r\n      })\r\n      .catch((error) => {\r\n        console.log(error);\r\n      });\r\n    return response;\r\n  }\r\n);\r\n\r\nexport const addFavorites = createAsyncThunk(\r\n  \"boards/addFavorites\",\r\n  async ({ boardId }) => {\r\n    const response = await axiosInstance({\r\n      config: {\r\n        headers: {\r\n          \"Content-Type\": \"application/json\",\r\n          Accept: \"application/json\",\r\n        },\r\n      },\r\n      method: \"POST\",\r\n      url: \"/board/addFavorites\",\r\n      data: {\r\n        boardId,\r\n      },\r\n    })\r\n      .then((response) => {\r\n        return response.data;\r\n      })\r\n      .catch((error) => {\r\n        console.log(error);\r\n      });\r\n    return response;\r\n  }\r\n);\r\n\r\nexport const removeFavorites = createAsyncThunk(\r\n  \"boards/removeFavorites\",\r\n  async ({ boardId }) => {\r\n    const response = await axiosInstance({\r\n      config: {\r\n        headers: {\r\n          \"Content-Type\": \"application/json\",\r\n          Accept: \"application/json\",\r\n        },\r\n      },\r\n      method: \"POST\",\r\n      url: \"/board/removeFavorites\",\r\n      data: {\r\n        boardId,\r\n      },\r\n    })\r\n      .then((response) => {\r\n        return response.data;\r\n      })\r\n      .catch((error) => {\r\n        console.log(error);\r\n      });\r\n    return response;\r\n  }\r\n);\r\n\r\nexport const changeData = createAsyncThunk(\r\n  \"boards/changeData\",\r\n  async ({ boardId, date }) => {\r\n    const response = await axiosInstance({\r\n      config: {\r\n        headers: {\r\n          \"Content-Type\": \"application/json\",\r\n          Accept: \"application/json\",\r\n        },\r\n      },\r\n      method: \"POST\",\r\n      url: \"/board/changeData\",\r\n      data: {\r\n        boardId,\r\n        date,\r\n      },\r\n    })\r\n      .then((response) => {\r\n        return response.data;\r\n      })\r\n      .catch((error) => {\r\n        console.log(error);\r\n      });\r\n    return response;\r\n  }\r\n);\r\n\r\nconst boardsSlice = createSlice({\r\n  name: \"boards\",\r\n  initialState,\r\n  reducers: {},\r\n  extraReducers(builder) {\r\n    builder\r\n      .addCase(getBoard.pending, (state, action) => {\r\n        state.status = \"loading\";\r\n      })\r\n      .addCase(getBoard.fulfilled, (state, action) => {\r\n        state.status = \"succeeded\";\r\n\r\n        // action has an initial state as an object\r\n        // but not as an object in array\r\n        state.boards = [action.payload];\r\n      })\r\n      .addCase(getBoards.pending, (state, action) => {\r\n        state.status = \"loading\";\r\n      })\r\n      .addCase(getBoards.fulfilled, (state, action) => {\r\n        state.status = \"succeeded\";\r\n        state.boards = action.payload;\r\n      })\r\n      .addCase(addBoards.pending, (state, action) => {\r\n        state.status = \"loading\";\r\n      })\r\n      .addCase(addBoards.fulfilled, (state, action) => {\r\n        state.status = \"succeeded\";\r\n        state.boards.push(action.payload);\r\n      })\r\n      .addCase(changeLists.pending, (state, action) => {\r\n        state.status = \"loading\";\r\n      })\r\n      .addCase(changeLists.fulfilled, (state, action) => {\r\n        state.status = \"succeeded\";\r\n        state.boards = [action.payload];\r\n      })\r\n      .addCase(changeName.pending, (state, action) => {\r\n        state.status = \"loading\";\r\n      })\r\n      .addCase(changeName.fulfilled, (state, action) => {\r\n        state.status = \"succeeded\";\r\n\r\n        const { nameBoard, boardId } = action.payload;\r\n\r\n        for (let i = 0; i < state.boards.length; i++) {\r\n          if (state.boards[i]._id === boardId) {\r\n            state.boards[i].nameBoard = nameBoard;\r\n          }\r\n        }\r\n      })\r\n      .addCase(addFavorites.pending, (state, action) => {\r\n        state.status = \"loading\";\r\n      })\r\n      .addCase(addFavorites.fulfilled, (state, action) => {\r\n        state.status = \"succeeded\";\r\n\r\n        const { boardId } = action.payload;\r\n\r\n        for (let i = 0; i < state.boards.length; i++) {\r\n          if (state.boards[i]._id === boardId) {\r\n            state.boards[i].favorites = true;\r\n          }\r\n        }\r\n      })\r\n      .addCase(removeFavorites.pending, (state, action) => {\r\n        state.status = \"loading\";\r\n      })\r\n      .addCase(removeFavorites.fulfilled, (state, action) => {\r\n        state.status = \"succeeded\";\r\n\r\n        const { boardId } = action.payload;\r\n\r\n        for (let i = 0; i < state.boards.length; i++) {\r\n          if (state.boards[i]._id === boardId) {\r\n            state.boards[i].favorites = false;\r\n          }\r\n        }\r\n      })\r\n      .addCase(changeData.pending, (state, action) => {\r\n        state.status = \"loading\";\r\n      })\r\n      .addCase(changeData.fulfilled, (state, action) => {\r\n        state.status = \"succeeded\";\r\n\r\n        const { boardId, date } = action.payload;\r\n\r\n        for (let i = 0; i < state.boards.length; i++) {\r\n          if (state.boards[i]._id === boardId) {\r\n            state.boards[i].lastVisiting = date;\r\n          }\r\n        }\r\n      });\r\n  },\r\n});\r\n\r\nexport default boardsSlice.reducer;\r\n","import React from \"react\";\r\n\r\nimport \"../../styles/Loader.css\";\r\n\r\nexport const Loader = () => {\r\n  return (\r\n    <div className=\"loadScreen\">\r\n      <div className=\"lds-facebook\">\r\n        <div></div>\r\n        <div></div>\r\n        <div></div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n","import { useEffect } from \"react\";\r\n\r\nexport default function OutsideClick(ref, closeModal) {\r\n  useEffect(() => {\r\n    function handleClickOutside(event) {\r\n      if (\r\n        ref.current &&\r\n        !ref.current.contains(event.target) &&\r\n        ref.current.className !== \"hidden\"\r\n      ) {\r\n        closeModal();\r\n      }\r\n    }\r\n    document.addEventListener(\"mousedown\", handleClickOutside);\r\n    return () => {\r\n      document.removeEventListener(\"mousedown\", handleClickOutside);\r\n    };\r\n  }, [ref]);\r\n}\r\n","export default __webpack_public_path__ + \"static/media/avatar.ccd1e841.svg\";","import React from \"react\";\r\n\r\nimport \"../../styles/BurgerButton.css\";\r\n\r\nexport const BurgerButton = ({ Switch, switchState }) => {\r\n  return (\r\n    <div\r\n      className={switchState === false ? \"BurgerButton\" : \"BurgerButton opened\"}\r\n      onClick={Switch}\r\n    >\r\n      <svg width=\"100\" height=\"100\" viewBox=\"0 0 100 100\">\r\n        <path\r\n          className=\"line line1\"\r\n          d=\"M 20,29.000046 H 80.000231 C 80.000231,29.000046 94.498839,28.817352 94.532987,66.711331 94.543142,77.980673 90.966081,81.670246 85.259173,81.668997 79.552261,81.667751 75.000211,74.999942 75.000211,74.999942 L 25.000021,25.000058\"\r\n        />\r\n        <path className=\"line line2\" d=\"M 20,50 H 80\" />\r\n        <path\r\n          className=\"line line3\"\r\n          d=\"M 20,70.999954 H 80.000231 C 80.000231,70.999954 94.498839,71.182648 94.532987,33.288669 94.543142,22.019327 90.966081,18.329754 85.259173,18.331003 79.552261,18.332249 75.000211,25.000058 75.000211,25.000058 L 25.000021,74.999942\"\r\n        />\r\n      </svg>\r\n    </div>\r\n  );\r\n};\r\n","import React, { useState, useRef } from \"react\";\r\nimport { useNavigate, Link } from \"react-router-dom\";\r\n\r\nimport OutsideClick from \"../../hooks/OutsideClick\";\r\n\r\nimport avatar from \"../../img/avatar.svg\";\r\n\r\nimport \"../../styles/Header.css\";\r\nimport { BurgerButton } from \"./BurgerButton\";\r\n\r\nexport const Header = ({ boards, createShow }) => {\r\n  const navigate = useNavigate();\r\n\r\n  const userId = localStorage.getItem(\"userId\");\r\n  const userName = localStorage.getItem(\"userName\");\r\n\r\n  const [profileShow, setProfileShow] = useState(false);\r\n  const [resentShow, setResentShow] = useState(false);\r\n  const [favoritesShow, setFavoritesShow] = useState(false);\r\n\r\n  const [menuShow, setMenuShow] = useState(false);\r\n\r\n  const visibleProfileMenu = () => setProfileShow(true);\r\n\r\n  const logOut = () => {\r\n    sessionStorage.removeItem(\"accessToken\");\r\n\r\n    localStorage.removeItem(\"refreshToken\");\r\n\r\n    navigate(\"/sig\");\r\n  };\r\n\r\n  const profileRef = useRef(null);\r\n  const recentRef = useRef(null);\r\n  const favoritesRef = useRef(null);\r\n\r\n  OutsideClick(profileRef, () => setProfileShow(false));\r\n  OutsideClick(recentRef, () => setResentShow(false));\r\n  OutsideClick(favoritesRef, () => setFavoritesShow(false));\r\n  return (\r\n    <header className=\"header header-board\">\r\n      <div className=\"container\">\r\n        <div className=\"header__inner\">\r\n          <div className=\"logo\">\r\n            <Link to={\"/\" + userId + \"/boards\"}>MyTrello</Link>\r\n          </div>\r\n\r\n          <BurgerButton Switch={() => setMenuShow(!menuShow)} switchState={menuShow} />\r\n          <div className={menuShow == false ? \"burgerMenu\" : \"burgerMenu open\"}>\r\n            <div\r\n              className=\"recent\"\r\n              ref={recentRef}\r\n              onClick={() => setResentShow(!resentShow)}\r\n            >\r\n              Recent\r\n              <ul className={resentShow === true ? null : \"hidden\"}>\r\n                <li>\r\n                  Recent\r\n                  <hr />\r\n                </li>\r\n\r\n                {[...boards]\r\n                  .sort((a, b) => {\r\n                    if (a.lastVisiting > b.lastVisiting) {\r\n                      return -1;\r\n                    } else {\r\n                      return 1;\r\n                    }\r\n                  })\r\n                  .map((board, index) => {\r\n                    if (index < 3) {\r\n                      return (\r\n                        <li key={board.nameBoard}>\r\n                          <Link\r\n                            to={\"/board/\" + board._id + \"/\" + board.nameBoard}\r\n                            key={board._id}\r\n                          >\r\n                            {board.nameBoard}\r\n                          </Link>\r\n                        </li>\r\n                      );\r\n                    }\r\n                  })}\r\n              </ul>\r\n            </div>\r\n            <div\r\n              className=\"favorites\"\r\n              ref={favoritesRef}\r\n              onClick={() => setFavoritesShow(!favoritesShow)}\r\n            >\r\n              Favorites\r\n              <ul className={favoritesShow === true ? null : \"hidden\"}>\r\n                <li>\r\n                  Favorites\r\n                  <hr />\r\n                </li>\r\n                {boards.map((board) => {\r\n                  if (board.favorites === true) {\r\n                    return (\r\n                      <li key={board.nameBoard}>\r\n                        <Link\r\n                          to={\"/board/\" + board._id + \"/\" + board.nameBoard}\r\n                          key={board._id}\r\n                        >\r\n                          {board.nameBoard}\r\n                        </Link>\r\n                      </li>\r\n                    );\r\n                  }\r\n                })}\r\n              </ul>\r\n            </div>\r\n            <div onClick={createShow}>Create</div>\r\n          </div>\r\n          <div className=\"account\" ref={profileRef}>\r\n            <div className=\"account-avatar\" onClick={visibleProfileMenu}>\r\n              <img src={avatar} />\r\n            </div>\r\n            <div className={profileShow === false ? \"hidden\" : \"account__menu\"}>\r\n              <div className=\"account__menu-title\">Account</div>\r\n              <ul>\r\n                <li>\r\n                  <Link to={\"/\" + userName + \"/profile\"}>Profile</Link>\r\n                </li>\r\n                <li onClick={logOut}>Log out</li>\r\n              </ul>\r\n              <button onClick={visibleProfileMenu}>X</button>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </header>\r\n  );\r\n};\r\n","import React, { useState, useEffect, useRef } from \"react\";\r\nimport { useNavigate } from \"react-router-dom\";\r\n\r\nimport { useDispatch } from \"react-redux\";\r\nimport { addBoards } from \"../features/boards/boardsSlice\";\r\n\r\nimport \"../styles/CreateBoard.css\";\r\n\r\nimport OutsideClick from \"../hooks/OutsideClick\";\r\n\r\nlet firstUpdate = null;\r\n\r\nexport const CreateBoards = ({ createShow, changeShow, height, boards }) => {\r\n  const navigate = useNavigate();\r\n\r\n  const dispatch = useDispatch();\r\n\r\n  const [nameBoard, setNameBoard] = useState(\"\");\r\n\r\n  const menuRef = useRef(null);\r\n\r\n  const onNameBoardChange = (e) => setNameBoard(e.target.value);\r\n\r\n  const createBoard = () => {\r\n    const id = localStorage.getItem(\"userId\");\r\n\r\n    if (nameBoard.trim().length < 1) return;\r\n\r\n    dispatch(addBoards({ id, nameBoard }));\r\n\r\n    setNameBoard(\"\");\r\n\r\n    changeShow();\r\n  };\r\n\r\n  useEffect(() => {\r\n    if (!firstUpdate) {\r\n      firstUpdate = boards.length;\r\n\r\n      return;\r\n    } else if (boards.length > firstUpdate) {\r\n      firstUpdate = null;\r\n\r\n      const boardId = boards[boards.length - 1]._id;\r\n      const boardName = boards[boards.length - 1].nameBoard;\r\n\r\n      navigate(\"/board/\" + boardId + \"/\" + boardName);\r\n    }\r\n  }, [boards.length]);\r\n\r\n  OutsideClick(menuRef, () => changeShow());\r\n  return (\r\n    <div\r\n      className={createShow === false ? \"hidden\" : \"menuCreateBoard\"}\r\n      style={{ height: height }}\r\n    >\r\n      <div className=\"blackBG\">\r\n        <div className=\"menuCreateBoard__inner\" ref={menuRef}>\r\n          <div className=\"settingsBoard\">\r\n            <input\r\n              type=\"text\"\r\n              placeholder=\"Add a board name\"\r\n              value={nameBoard}\r\n              onChange={onNameBoardChange}\r\n            />\r\n          </div>\r\n\r\n          <button\r\n            onClick={createBoard}\r\n            className={nameBoard.length > 0 ? \"activeCreate\" : \"\"}\r\n          >\r\n            Create\r\n          </button>\r\n          <button onClick={changeShow}>X</button>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n","export default __webpack_public_path__ + \"static/media/starUnchecked.846d17a4.svg\";","export default __webpack_public_path__ + \"static/media/starChecked.b7d83052.svg\";","import React, { useState, useEffect, useRef } from \"react\";\r\nimport { useNavigate, Link } from \"react-router-dom\";\r\n\r\nimport { useSelector, useDispatch } from \"react-redux\";\r\nimport {\r\n  getBoards,\r\n  addFavorites,\r\n  removeFavorites,\r\n} from \"../features/boards/boardsSlice\";\r\n\r\nimport { Loader } from \"./blanks/Loader\";\r\nimport { Header } from \"./blanks/Header.js\";\r\nimport { CreateBoards } from \"./CreateBoards\";\r\n\r\nimport starUnchecked from \"../img/starUnchecked.svg\";\r\nimport starChecked from \"../img/starChecked.svg\";\r\n\r\nexport const Boards = ({ socket, height }) => {\r\n  const navigate = useNavigate();\r\n\r\n  const dispatch = useDispatch();\r\n  const { boards, status } = useSelector((state) => state.boards);\r\n\r\n  const [favoritesBoards, setFavorites] = useState(0);\r\n  const [recent, setRecent] = useState(false);\r\n\r\n  const [createShow, setCreateShow] = useState(false);\r\n  const [heightBody, setHeightBody] = useState(null);\r\n\r\n  useEffect(() => {\r\n    const accessToken = localStorage.getItem(\"accessToken\");\r\n\r\n    if (!accessToken) navigate(\"/\");\r\n\r\n    try {\r\n      socket.emit(\"tokenVerify\", JSON.parse(accessToken));\r\n    } catch (error) {\r\n      socket.emit(\"tokenVerify\", accessToken);\r\n    }\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    socket.on(\"tokenVerify\", (data) => {\r\n      if (data !== \"Error\") {\r\n        const { newToken, idUser, userName } = data;\r\n\r\n        if (newToken) localStorage.setItem(\"accessToken\", newToken);\r\n\r\n        localStorage.setItem(\"userId\", idUser);\r\n        localStorage.setItem(\"userName\", userName);\r\n\r\n        dispatch(getBoards(idUser));\r\n        socket.off(\"tokenVerify\");\r\n      } else {\r\n        navigate(\"/error/404\");\r\n      }\r\n    });\r\n  }, [socket]);\r\n\r\n  useEffect(() => {\r\n    if (boards.length > 0) {\r\n      for (let i = 0; i < boards.length; i++) {\r\n        if (boards[i].favorites === true) {\r\n          setFavorites(+1);\r\n        }\r\n      }\r\n\r\n      for (let i = 0; i < boards.length; i++) {\r\n        if (boards[i].lastVisiting) {\r\n          setRecent(+1);\r\n        }\r\n      }\r\n    }\r\n  }, [boards]);\r\n\r\n  const favoriteAction = (favorite, boardId) => {\r\n    switch (favorite) {\r\n      case false:\r\n        dispatch(addFavorites({ boardId }));\r\n\r\n        break;\r\n      case true:\r\n        dispatch(removeFavorites({ boardId }));\r\n        setFavorites(favoritesBoards - 1);\r\n        break;\r\n      default:\r\n        break;\r\n    }\r\n  };\r\n\r\n  const heightRef = useRef(null);\r\n\r\n  useEffect(() => {\r\n    setHeightBody(heightRef?.current?.clientHeight);\r\n  });\r\n\r\n  return status !== \"succeeded\" ? (\r\n    <Loader />\r\n  ) : (\r\n    <div className=\"boardsMenu\" style={{ minHeight: height }} ref={heightRef}>\r\n      <Header boards={boards} createShow={() => setCreateShow(true)} />\r\n      <div className=\"workspace\">\r\n        <div className=\"container\">\r\n          <div className=\"workspace__inner\">\r\n            <div className=\"boards\">\r\n              <ul className={recent > 0 ? null : \"hidden\"}>\r\n                <li> Recent </li>\r\n                {[...boards]\r\n                  .sort((a, b) => {\r\n                    if (a.lastVisiting > b.lastVisiting) {\r\n                      return -1;\r\n                    } else {\r\n                      return 1;\r\n                    }\r\n                  })\r\n                  .map((board, index) => {\r\n                    if (index < 3) {\r\n                      return (\r\n                        <li className=\"board\" key={board.nameBoard}>\r\n                          <Link\r\n                            to={\"/board/\" + board._id + \"/\" + board.nameBoard}\r\n                            key={board._id}\r\n                          >\r\n                            {board.nameBoard}\r\n                          </Link>\r\n                          <img\r\n                            src={\r\n                              board.favorites === false\r\n                                ? starUnchecked\r\n                                : starChecked\r\n                            }\r\n                            onClick={() =>\r\n                              favoriteAction(board.favorites, board._id)\r\n                            }\r\n                          />\r\n                        </li>\r\n                      );\r\n                    }\r\n                  })}\r\n              </ul>\r\n\r\n              <ul className={favoritesBoards > 0 ? null : \"hidden\"}>\r\n                <li> Favorites </li>\r\n                {boards.map((board) => {\r\n                  if (board.favorites === true) {\r\n                    return (\r\n                      <li className=\"board\" key={board.nameBoard}>\r\n                        <Link\r\n                          to={\"/board/\" + board._id + \"/\" + board.nameBoard}\r\n                          key={board._id}\r\n                        >\r\n                          {board.nameBoard}\r\n                        </Link>\r\n                        <img\r\n                          src={\r\n                            board.favorites === false\r\n                              ? starUnchecked\r\n                              : starChecked\r\n                          }\r\n                          onClick={() =>\r\n                            favoriteAction(board.favorites, board._id)\r\n                          }\r\n                        />\r\n                      </li>\r\n                    );\r\n                  }\r\n                })}\r\n              </ul>\r\n              <ul>\r\n                <li>All boards</li>\r\n                {boards.map((board) => {\r\n                  return (\r\n                    <li className=\"board\" key={board.nameBoard}>\r\n                      <Link\r\n                        to={\"/board/\" + board._id + \"/\" + board.nameBoard}\r\n                        key={board._id}\r\n                      >\r\n                        {board.nameBoard}\r\n                      </Link>\r\n                      <img\r\n                        src={\r\n                          board.favorites === false\r\n                            ? starUnchecked\r\n                            : starChecked\r\n                        }\r\n                        onClick={() =>\r\n                          favoriteAction(board.favorites, board._id)\r\n                        }\r\n                      />\r\n                    </li>\r\n                  );\r\n                })}\r\n                <li className=\"createBoards\">\r\n                  <button onClick={() => setCreateShow(true)}>\r\n                    Create a new board\r\n                  </button>\r\n                </li>\r\n              </ul>\r\n            </div>\r\n            <CreateBoards\r\n              createShow={createShow}\r\n              changeShow={() => setCreateShow(false)}\r\n              height={heightBody}\r\n              boards={boards}\r\n            />\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n","import { createSlice, createAsyncThunk } from \"@reduxjs/toolkit\";\r\n\r\nimport {axiosInstance} from \"../../config\";\r\n\r\nconst initialState = {\r\n  lists: [],\r\n  status: \"idle\",\r\n};\r\n\r\nexport const getLists = createAsyncThunk(\"lists/getLists\", async (boardId) => {\r\n  const response = await axiosInstance({\r\n    config: {\r\n      headers: {\r\n        \"Content-Type\": \"application/json\",\r\n        Accept: \"application/json\",\r\n      },\r\n    },\r\n    method: \"POST\",\r\n    url: \"/board/lists/get\",\r\n    data: {\r\n      boardId,\r\n    },\r\n  })\r\n    .then((response) => {\r\n      return response.data;\r\n    })\r\n    .catch((error) => {\r\n      console.log(error);\r\n    });\r\n  return response;\r\n});\r\n\r\nexport const getList = createAsyncThunk(\"lists/getList\", async (listId) => {\r\n  const response = await axiosInstance({\r\n    config: {\r\n      headers: {\r\n        \"Content-Type\": \"application/json\",\r\n        Accept: \"application/json\",\r\n      },\r\n    },\r\n    method: \"POST\",\r\n    url: \"/board/lists/getOne\",\r\n    data: {\r\n      listId,\r\n    },\r\n  })\r\n    .then((response) => {\r\n      return response.data;\r\n    })\r\n    .catch((error) => {\r\n      console.log(error);\r\n    });\r\n  return response;\r\n});\r\n\r\nexport const addList = createAsyncThunk(\r\n  \"lists/addList\",\r\n  async ({ nameList, boardId }) => {\r\n    const response = await axiosInstance({\r\n      config: {\r\n        headers: {\r\n          \"Content-Type\": \"application/json\",\r\n          Accept: \"application/json\",\r\n        },\r\n      },\r\n      method: \"POST\",\r\n      url: \"/board/list/create\",\r\n      data: {\r\n        nameList,\r\n        boardId,\r\n      },\r\n    })\r\n      .then((response) => {\r\n        return response.data;\r\n      })\r\n      .catch((error) => {\r\n        console.log(error);\r\n      });\r\n    return response;\r\n  }\r\n);\r\n\r\n// change the name\r\nexport const changeCards = createAsyncThunk(\r\n  \"lists/changeCardsPosition\",\r\n  async ({ fromListId, toListId, position, cardId }) => {\r\n    const response = await axiosInstance({\r\n      config: {\r\n        headers: {\r\n          \"Content-Type\": \"application/json\",\r\n          Accept: \"application/json\",\r\n        },\r\n      },\r\n      method: \"POST\",\r\n      url: \"/board/list/card/move\",\r\n      data: {\r\n        fromListId,\r\n        toListId,\r\n        position,\r\n        cardId,\r\n      },\r\n    })\r\n      .then((response) => {\r\n        return response.data;\r\n      })\r\n      .catch((error) => {\r\n        console.log(error);\r\n      });\r\n    return response;\r\n  }\r\n);\r\n\r\nexport const changeName = createAsyncThunk(\r\n  \"lists/changeName\",\r\n  async ({ listId, nameList }) => {\r\n    const response = await axiosInstance({\r\n      config: {\r\n        headers: {\r\n          \"Content-Type\": \"application/json\",\r\n          Accept: \"application/json\",\r\n        },\r\n      },\r\n      method: \"POST\",\r\n      url: \"/board/list/changeName\",\r\n      data: {\r\n        listId,\r\n        nameList,\r\n      },\r\n    })\r\n      .then((response) => {\r\n        return response.data;\r\n      })\r\n      .catch((error) => {\r\n        console.log(error);\r\n      });\r\n    return response;\r\n  }\r\n);\r\n\r\nexport const deleteList = createAsyncThunk(\r\n  \"lists/delete\",\r\n  async ({ listId }) => {\r\n    const response = await axiosInstance({\r\n      config: {\r\n        headers: {\r\n          \"Content-Type\": \"application/json\",\r\n          Accept: \"application/json\",\r\n        },\r\n      },\r\n      method: \"POST\",\r\n      url: \"/board/list/delete\",\r\n      data: {\r\n        listId,\r\n      },\r\n    })\r\n      .then((response) => {\r\n        return response.data;\r\n      })\r\n      .catch((error) => {\r\n        console.log(error);\r\n      });\r\n    return response;\r\n  }\r\n);\r\n\r\nexport const archiveList = createAsyncThunk(\r\n  \"lists/archive\",\r\n  async ({ listId }) => {\r\n    const response = await axiosInstance({\r\n      config: {\r\n        headers: {\r\n          \"Content-Type\": \"application/json\",\r\n          Accept: \"application/json\",\r\n        },\r\n      },\r\n      method: \"POST\",\r\n      url: \"/board/list/archive\",\r\n      data: {\r\n        listId,\r\n      },\r\n    })\r\n      .then((response) => {\r\n        return response.data;\r\n      })\r\n      .catch((error) => {\r\n        console.log(error);\r\n      });\r\n    return response;\r\n  }\r\n);\r\n\r\nexport const unarchiveList = createAsyncThunk(\r\n  \"lists/unarchive\",\r\n  async ({ listId }) => {\r\n    const response = await axiosInstance({\r\n      config: {\r\n        headers: {\r\n          \"Content-Type\": \"application/json\",\r\n          Accept: \"application/json\",\r\n        },\r\n      },\r\n      method: \"POST\",\r\n      url: \"/board/list/unarchive\",\r\n      data: {\r\n        listId,\r\n      },\r\n    })\r\n      .then((response) => {\r\n        return response.data;\r\n      })\r\n      .catch((error) => {\r\n        console.log(error);\r\n      });\r\n    return response;\r\n  }\r\n);\r\n\r\nconst listsSlice = createSlice({\r\n  name: \"lists\",\r\n  initialState,\r\n  reducers: {\r\n    sortingLists(state, action) {\r\n      if (state.lists[0]?.boardId) {\r\n        function getUsedBoard() {\r\n          for (let i = 0; i < action.payload.length; i++) {\r\n            if (action.payload[i]._id === state.lists[0].boardId) {\r\n              return action.payload[i].lists;\r\n            }\r\n          }\r\n        }\r\n\r\n        const orderLists = getUsedBoard();\r\n\r\n        let result = [];\r\n\r\n        for (let i = 0; i < orderLists.length; i++) {\r\n          for (let j = 0; j < state.lists.length; j++) {\r\n            if (orderLists[i] === state.lists[j]._id) {\r\n              result.push(state.lists[j]);\r\n            }\r\n          }\r\n        }\r\n\r\n        state.lists = result;\r\n      }\r\n    },\r\n    removeList(state, action) {\r\n      const listId = action.payload;\r\n\r\n      for (let i = 0; i < state.lists.length; i++) {\r\n        if (state.lists[i]._id === listId) {\r\n          state.lists.splice(i, 1);\r\n        }\r\n      }\r\n    },\r\n  },\r\n  extraReducers(builder) {\r\n    builder\r\n      .addCase(getLists.pending, (state, action) => {\r\n        state.status = \"loading\";\r\n      })\r\n      .addCase(getLists.fulfilled, (state, action) => {\r\n        state.status = \"succeeded\";\r\n\r\n        state.lists = action.payload;\r\n      })\r\n      .addCase(getList.pending, (state, action) => {\r\n        state.status = \"loading\";\r\n      })\r\n      .addCase(getList.fulfilled, (state, action) => {\r\n        state.status = \"succeeded\";\r\n\r\n        const listId = action.payload._id;\r\n\r\n        for (let i = 0; i < state.lists.length; i++) {\r\n          if (state.lists[i]._id === listId) {\r\n            state.lists.splice(i, 1, action.payload);\r\n          }\r\n        }\r\n      })\r\n      .addCase(addList.pending, (state, action) => {\r\n        state.status = \"loading\";\r\n      })\r\n      .addCase(addList.fulfilled, (state, action) => {\r\n        state.status = \"succeeded\";\r\n        state.lists.push(action.payload);\r\n      })\r\n      .addCase(changeCards.pending, (state, action) => {\r\n        state.status = \"loading\";\r\n      })\r\n      .addCase(changeCards.fulfilled, (state, action) => {\r\n        state.status = \"succeeded\";\r\n\r\n        const { oldList, newList } = action.payload;\r\n\r\n        if (newList === undefined) {\r\n          for (let i = 0; i < state.lists.length; i++) {\r\n            if (state.lists[i]._id === oldList._id) {\r\n              state.lists[i] = oldList;\r\n            }\r\n          }\r\n        } else {\r\n          for (let i = 0; i < state.lists.length; i++) {\r\n            if (state.lists[i]._id === oldList._id) {\r\n              state.lists[i] = oldList;\r\n            }\r\n            if (state.lists[i]._id === newList._id) {\r\n              state.lists[i] = newList;\r\n            }\r\n          }\r\n        }\r\n      })\r\n      .addCase(changeName.pending, (state, action) => {\r\n        state.status = \"loading\";\r\n      })\r\n      .addCase(changeName.fulfilled, (state, action) => {\r\n        state.status = \"succeeded\";\r\n\r\n        const { listId, nameList } = action.payload;\r\n\r\n        for (let i = 0; i < state.lists.length; i++) {\r\n          if (state.lists[i]._id === listId) {\r\n            state.lists[i].nameList = nameList;\r\n          }\r\n        }\r\n      })\r\n      .addCase(deleteList.pending, (state, action) => {\r\n        state.status = \"loading\";\r\n      })\r\n      .addCase(deleteList.fulfilled, (state, action) => {\r\n        state.status = \"succeeded\";\r\n\r\n        const { listId } = action.payload;\r\n\r\n        for (let i = 0; i < state.lists.length; i++) {\r\n          if (state.lists[i]._id === listId) {\r\n            state.lists.splice(i, 1);\r\n          }\r\n        }\r\n      })\r\n      .addCase(archiveList.pending, (state, action) => {\r\n        state.status = \"loading\";\r\n      })\r\n      .addCase(archiveList.fulfilled, (state, action) => {\r\n        state.status = \"succeeded\";\r\n\r\n        const { listId } = action.payload;\r\n\r\n        for (let i = 0; i < state.lists.length; i++) {\r\n          if (state.lists[i]._id === listId) {\r\n            state.lists[i].archived = true;\r\n          }\r\n        }\r\n      })\r\n      .addCase(unarchiveList.pending, (state, action) => {\r\n        state.status = \"loading\";\r\n      })\r\n      .addCase(unarchiveList.fulfilled, (state, action) => {\r\n        state.status = \"succeeded\";\r\n\r\n        const { listId } = action.payload;\r\n\r\n        for (let i = 0; i < state.lists.length; i++) {\r\n          if (state.lists[i]._id === listId) {\r\n            state.lists[i].archived = false;\r\n          }\r\n        }\r\n      });\r\n  },\r\n});\r\n\r\nexport const { sortingLists, removeList } = listsSlice.actions;\r\n\r\nexport default listsSlice.reducer;\r\n","import { createSlice, createAsyncThunk } from \"@reduxjs/toolkit\";\r\n\r\nimport {axiosInstance} from \"../../config\";\r\n\r\nconst initialState = {\r\n  cards: [],\r\n  status: \"idle\",\r\n};\r\n\r\nexport const getCards = createAsyncThunk(\"cards/getCards\", async (boardId) => {\r\n  const response = await axiosInstance({\r\n    config: {\r\n      headers: {\r\n        \"Content-Type\": \"application/json\",\r\n        Accept: \"application/json\",\r\n      },\r\n    },\r\n    method: \"POST\",\r\n    url: \"/board/list/card/get\",\r\n    data: {\r\n      boardId,\r\n    },\r\n  })\r\n    .then((response) => {\r\n      return response.data;\r\n    })\r\n    .catch((error) => {\r\n      console.log(error);\r\n    });\r\n  return response;\r\n});\r\n\r\nexport const getCard = createAsyncThunk(\"cards/getCard\", async (cardId) => {\r\n  const response = await axiosInstance({\r\n    config: {\r\n      headers: {\r\n        \"Content-Type\": \"application/json\",\r\n        Accept: \"application/json\",\r\n      },\r\n    },\r\n    method: \"POST\",\r\n    url: \"/board/list/card/getOne\",\r\n    data: {\r\n      cardId,\r\n    },\r\n  })\r\n    .then((response) => {\r\n      return response.data;\r\n    })\r\n    .catch((error) => {\r\n      console.log(error);\r\n    });\r\n  return response;\r\n});\r\n\r\nexport const addCard = createAsyncThunk(\r\n  \"cards/addCard\",\r\n  async ({ nameCard, boardId, listId }) => {\r\n    const response = await axiosInstance({\r\n      config: {\r\n        headers: {\r\n          \"Content-Type\": \"application/json\",\r\n          Accept: \"application/json\",\r\n        },\r\n      },\r\n      method: \"POST\",\r\n      url: \"/board/list/card/create\",\r\n      data: {\r\n        nameCard,\r\n        boardId,\r\n        listId,\r\n      },\r\n    })\r\n      .then((response) => {\r\n        return response.data;\r\n      })\r\n      .catch((error) => {\r\n        console.log(error);\r\n      });\r\n    return response;\r\n  }\r\n);\r\n\r\nexport const changeName = createAsyncThunk(\r\n  \"cards/changeName\",\r\n  async ({ cardId, nameCard }) => {\r\n    const response = await axiosInstance({\r\n      config: {\r\n        headers: {\r\n          \"Content-Type\": \"application/json\",\r\n          Accept: \"application/json\",\r\n        },\r\n      },\r\n      method: \"POST\",\r\n      url: \"/board/list/card/changeName\",\r\n      data: {\r\n        cardId,\r\n        nameCard,\r\n      },\r\n    })\r\n      .then((response) => {\r\n        return response.data;\r\n      })\r\n      .catch((error) => {\r\n        console.log(error);\r\n      });\r\n    return response;\r\n  }\r\n);\r\n\r\nexport const changeDescription = createAsyncThunk(\r\n  \"cards/changeDescription\",\r\n  async ({ cardId, description }) => {\r\n    const response = await axiosInstance({\r\n      config: {\r\n        headers: {\r\n          \"Content-Type\": \"application/json\",\r\n          Accept: \"application/json\",\r\n        },\r\n      },\r\n      method: \"POST\",\r\n      url: \"/board/list/card/changeDescription\",\r\n      data: {\r\n        cardId,\r\n        description,\r\n      },\r\n    })\r\n      .then((response) => {\r\n        return response.data;\r\n      })\r\n      .catch((error) => {\r\n        console.log(error);\r\n      });\r\n    return response;\r\n  }\r\n);\r\n\r\nexport const deleteCard = createAsyncThunk(\r\n  \"cards/delete\",\r\n  async ({ cardId }) => {\r\n    const response = await axiosInstance({\r\n      config: {\r\n        headers: {\r\n          \"Content-Type\": \"application/json\",\r\n          Accept: \"application/json\",\r\n        },\r\n      },\r\n      method: \"POST\",\r\n      url: \"/board/list/card/deleteCard\",\r\n      data: {\r\n        cardId,\r\n      },\r\n    })\r\n      .then((response) => {\r\n        return response.data;\r\n      })\r\n      .catch((error) => {\r\n        console.log(error);\r\n      });\r\n    return response;\r\n  }\r\n);\r\n\r\nexport const archiveCard = createAsyncThunk(\r\n  \"cards/archive\",\r\n  async ({ cardId }) => {\r\n    const response = await axiosInstance({\r\n      config: {\r\n        headers: {\r\n          \"Content-Type\": \"application/json\",\r\n          Accept: \"application/json\",\r\n        },\r\n      },\r\n      method: \"POST\",\r\n      url: \"/board/list/card/archive\",\r\n      data: {\r\n        cardId,\r\n      },\r\n    })\r\n      .then((response) => {\r\n        return response.data;\r\n      })\r\n      .catch((error) => {\r\n        console.log(error);\r\n      });\r\n    return response;\r\n  }\r\n);\r\n\r\nexport const unarchiveCard = createAsyncThunk(\r\n  \"cards/unarchive\",\r\n  async ({ cardId }) => {\r\n    const response = await axiosInstance({\r\n      config: {\r\n        headers: {\r\n          \"Content-Type\": \"application/json\",\r\n          Accept: \"application/json\",\r\n        },\r\n      },\r\n      method: \"POST\",\r\n      url: \"/board/list/card/unarchive\",\r\n      data: {\r\n        cardId,\r\n      },\r\n    })\r\n      .then((response) => {\r\n        return response.data;\r\n      })\r\n      .catch((error) => {\r\n        console.log(error);\r\n      });\r\n    return response;\r\n  }\r\n);\r\n\r\nconst cardsSlice = createSlice({\r\n  name: \"cards\",\r\n  initialState,\r\n  reducers: {\r\n    removeCard(state, action) {\r\n      const { cardId } = action.payload;\r\n\r\n      for (let i = 0; i < state.cards.length; i++) {\r\n        if (state.cards[i]._id === cardId) {\r\n          state.cards.splice(i, 1);\r\n        }\r\n      }\r\n    },\r\n  },\r\n  extraReducers(builder) {\r\n    builder\r\n      .addCase(getCards.pending, (state, action) => {\r\n        state.status = \"loading\";\r\n      })\r\n      .addCase(getCards.fulfilled, (state, action) => {\r\n        state.status = \"succeeded\";\r\n        state.cards = action.payload;\r\n      })\r\n      .addCase(getCard.pending, (state, action) => {\r\n        state.status = \"loading\";\r\n      })\r\n      .addCase(getCard.fulfilled, (state, action) => {\r\n        state.status = \"succeeded\";\r\n\r\n        const cardId = action.payload._id;\r\n\r\n        for (let i = 0; i < state.cards.length; i++) {\r\n          if (state.cards[i]._id === cardId) {\r\n            state.cards.splice(i, 1, action.payload);\r\n          }\r\n        }\r\n      })\r\n      .addCase(addCard.pending, (state, action) => {\r\n        state.status = \"loading\";\r\n      })\r\n      .addCase(addCard.fulfilled, (state, action) => {\r\n        state.status = \"succeeded\";\r\n        state.cards.push(action.payload);\r\n      })\r\n      .addCase(changeName.pending, (state, action) => {\r\n        state.status = \"loading\";\r\n      })\r\n      .addCase(changeName.fulfilled, (state, action) => {\r\n        state.status = \"succeeded\";\r\n\r\n        const { cardId, nameCard } = action.payload;\r\n\r\n        for (let i = 0; i < state.cards.length; i++) {\r\n          if (state.cards[i]._id === cardId) {\r\n            state.cards[i].nameCard = nameCard;\r\n          }\r\n        }\r\n      })\r\n      .addCase(changeDescription.pending, (state, action) => {\r\n        state.status = \"loading\";\r\n      })\r\n      .addCase(changeDescription.fulfilled, (state, action) => {\r\n        state.status = \"succeeded\";\r\n\r\n        const { cardId, description } = action.payload;\r\n\r\n        for (let i = 0; i < state.cards.length; i++) {\r\n          if (state.cards[i]._id === cardId) {\r\n            state.cards[i].descriptionCard = description.trim();\r\n          }\r\n        }\r\n      })\r\n      .addCase(deleteCard.pending, (state, action) => {\r\n        state.status = \"loading\";\r\n      })\r\n      .addCase(deleteCard.fulfilled, (state, action) => {\r\n        state.status = \"succeeded\";\r\n\r\n        const { cardId } = action.payload;\r\n\r\n        for (let i = 0; i < state.cards.length; i++) {\r\n          if (state.cards[i]._id === cardId) {\r\n            state.cards.splice(i, 1);\r\n          }\r\n        }\r\n      })\r\n      .addCase(archiveCard.pending, (state, action) => {\r\n        state.status = \"loading\";\r\n      })\r\n      .addCase(archiveCard.fulfilled, (state, action) => {\r\n        state.status = \"succeeded\";\r\n\r\n        const { cardId } = action.payload;\r\n\r\n        for (let i = 0; i < state.cards.length; i++) {\r\n          if (state.cards[i]._id === cardId) {\r\n            state.cards[i].archived = true;\r\n          }\r\n        }\r\n      })\r\n      .addCase(unarchiveCard.pending, (state, action) => {\r\n        state.status = \"loading\";\r\n      })\r\n      .addCase(unarchiveCard.fulfilled, (state, action) => {\r\n        state.status = \"succeeded\";\r\n\r\n        const { cardId } = action.payload;\r\n\r\n        for (let i = 0; i < state.cards.length; i++) {\r\n          if (state.cards[i]._id === cardId) {\r\n            state.cards[i].archived = false;\r\n          }\r\n        }\r\n      });\r\n  },\r\n});\r\n\r\nexport const { removeCard } = cardsSlice.actions;\r\n\r\nexport default cardsSlice.reducer;\r\n","import { useState, useEffect } from \"react\";\r\n\r\nfunction getWindowHeight() {\r\n  const { innerHeight: height } = window;\r\n  return { height };\r\n}\r\n\r\nexport default function useWindowHeight() {\r\n  const [windowHeight, setWindowHeight] = useState(getWindowHeight());\r\n\r\n  useEffect(() => {\r\n    const handleResize = () => setWindowHeight(getWindowHeight());\r\n\r\n    window.addEventListener(\"resize\", handleResize);\r\n  }, []);\r\n\r\n  return windowHeight;\r\n}\r\n","import React, { useState, useRef, useMemo } from \"react\";\r\nimport { useParams } from \"react-router-dom\";\r\n\r\nimport { ArchiveList } from \"./ArchiveList\";\r\nimport { ArchiveCard } from \"./ArchiveCard\";\r\nimport { ShareBoard } from \"./ShareBoard\";\r\n\r\nimport OutsideClick from \"../../hooks/OutsideClick\";\r\n\r\nimport archive from \"../../img/archive.svg\";\r\nimport link from \"../../img/makeLink.svg\";\r\n\r\nimport \"../../styles/Board/Menu.css\";\r\n\r\nlet currentBoard;\r\n\r\nexport const Menu = ({ height, boards, lists, cards, socket, shareLink }) => {\r\n  const params = useParams();\r\n\r\n  const userId = localStorage.getItem(\"userId\");\r\n\r\n  useMemo(() => {\r\n    for (let i = 0; i < boards.length; i++) {\r\n      if (boards[i]._id === params.boardId) {\r\n        currentBoard = boards[i];\r\n      }\r\n    }\r\n  }, [boards]);\r\n\r\n\r\n\r\n  const [menuOpen, setMenuOpen] = useState(false);\r\n  const [archiveListOpen, setArchiveListOpen] = useState(false);\r\n  const [archiveCardOpen, setArchiveCardOpen] = useState(false);\r\n  const [shareBoard, setShareBoard] = useState(false);\r\n\r\n  const menu = useRef(null);\r\n  OutsideClick(menu, () => setMenuOpen(false));\r\n  return (\r\n    <div>\r\n      <button className=\"menu-button\" onClick={() => setMenuOpen(true)}>\r\n        Menu\r\n      </button>\r\n      <div\r\n        className={menuOpen === false ? \"hidden\" : \"menu\"}\r\n        ref={menu}\r\n        style={{ height: height }}\r\n      >\r\n        <div>\r\n          <div className=\"menuTitle\">\r\n            Menu\r\n            <button onClick={() => setMenuOpen(false)}>X</button>\r\n          </div>\r\n          <hr />\r\n          <div onClick={() => setArchiveListOpen(true)}>\r\n            Archived lists <img src={archive} />\r\n          </div>\r\n          <div onClick={() => setArchiveCardOpen(true)}>\r\n            Archived cards <img src={archive} />\r\n          </div>\r\n          {currentBoard.owner === userId ? (\r\n            <div onClick={() => setShareBoard(true)}>\r\n              Share board <img src={link} />\r\n            </div>\r\n          ) : null}\r\n        </div>\r\n        {archiveListOpen === true ? (\r\n          <ArchiveList\r\n            height={height}\r\n            back={() => setArchiveListOpen(false)}\r\n            close={() => setMenuOpen(false)}\r\n            lists={lists}\r\n            socket={socket}\r\n          />\r\n        ) : null}\r\n        {archiveCardOpen === true ? (\r\n          <ArchiveCard\r\n            height={height}\r\n            back={() => setArchiveCardOpen(false)}\r\n            close={() => setMenuOpen(false)}\r\n            cards={cards}\r\n            socket={socket}\r\n          />\r\n        ) : null}\r\n        {shareBoard === true ? (\r\n          <ShareBoard\r\n            height={height}\r\n            back={() => setShareBoard(false)}\r\n            close={() => setMenuOpen(false)}\r\n            socket={socket}\r\n            shareLink={shareLink}\r\n          />\r\n        ) : null}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n","import React, { useState, useEffect, useRef } from \"react\";\r\nimport { useParams } from \"react-router-dom\";\r\n\r\nimport { useDispatch } from \"react-redux\";\r\nimport { changeName } from \"../../features/boards/boardsSlice\";\r\n\r\nimport AutosizeInput from \"react-input-autosize\";\r\n\r\nimport \"../../styles/Board/BoardName.css\";\r\n\r\nexport const BoardName = ({ name, socket }) => {\r\n  const params = useParams();\r\n  const dispatch = useDispatch();\r\n\r\n  const [nameBoard, setNameBoard] = useState(\"\");\r\n  const [visibleInput, setVisibleInput] = useState(false);\r\n  const [width, setWidth] = useState(null);\r\n\r\n  const onNameBoardChange = (e) => {\r\n    setNameBoard(e.target.value);\r\n  };\r\n\r\n  const sendForm = (e) => {\r\n    if (e.key === \"Enter\" || e.keyCode === 13) {\r\n      const { boardId } = params;\r\n      dispatch(changeName({ nameBoard, boardId })).then(() => {\r\n        socket.emit(\"bond\", { roomId: boardId, message: \"board changed\" });\r\n      });\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    setNameBoard(name);\r\n  }, [name]);\r\n\r\n  return (\r\n    <div className=\"changeBoardName\">\r\n      <div\r\n        className={visibleInput ? \"hidden\" : \"boardName\"}\r\n        style={{ width: width }}\r\n      >\r\n        <AutosizeInput\r\n          value={nameBoard}\r\n          onChange={onNameBoardChange}\r\n          onKeyDown={sendForm}\r\n        />\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n","export default __webpack_public_path__ + \"static/media/description.4653bd1d.svg\";","import React from \"react\";\r\n\r\nimport { Draggable } from \"react-beautiful-dnd\";\r\n\r\nimport descriptionImg from \"../../img/description.svg\";\r\n\r\nimport \"../../styles/Board/Card.css\";\r\n\r\nexport const Card = ({\r\n  card,\r\n  index,\r\n  visibleChangeCard,\r\n  visibleChangeNameCard,\r\n}) => {\r\n  return (\r\n    <Draggable\r\n      key={card._id}\r\n      draggableId={card._id}\r\n      index={index}\r\n      id={card._id}\r\n    >\r\n      {(provided) => (\r\n        <div\r\n          ref={provided.innerRef}\r\n          {...provided.draggableProps}\r\n          {...provided.dragHandleProps}\r\n        >\r\n          <div className=\"cards\">\r\n            <div\r\n              className=\"card\"\r\n              key={card._id}\r\n              onClick={(e) =>\r\n                visibleChangeCard(e, card._id, card.descriptionCard)\r\n              }\r\n            >\r\n              {card.nameCard}\r\n              {card.descriptionCard.length !== 0 ? (\r\n                <div>\r\n                  <img src={descriptionImg} />\r\n                </div>\r\n              ) : null}\r\n            </div>\r\n            <span\r\n              onClick={(e) => visibleChangeNameCard(e, card.nameCard, card._id)}\r\n            ></span>\r\n          </div>\r\n        </div>\r\n      )}\r\n    </Draggable>\r\n  );\r\n};\r\n","import React, { useState, useEffect, useRef } from \"react\";\r\nimport { useParams } from \"react-router-dom\";\r\n\r\nimport { useDispatch } from \"react-redux\";\r\nimport { getLists, sortingLists } from \"../../features/lists/listsSlice\";\r\nimport { addCard } from \"../../features/card/cardsSlice\";\r\n\r\nimport TextareaAutosize from \"react-textarea-autosize\";\r\n\r\nimport OutsideClick from \"../../hooks/OutsideClick\";\r\n\r\nimport \"../../styles/Board/CreateCard.css\";\r\n\r\nexport const CreateCard = ({ listId, boards, formShow, closeForm, socket }) => {\r\n  const params = useParams();\r\n  const dispatch = useDispatch();\r\n\r\n  const [nameCard, setNameCard] = useState(\"\");\r\n\r\n  const onNameCardChange = (e) => setNameCard(e.target.value.trim());\r\n\r\n  const createCard = () => {\r\n    if (nameCard.replace(/ /g, \"\").length <= 0 || !listId) {\r\n      cardInput.current.focus();\r\n      return null;\r\n    }\r\n\r\n    const { boardId } = params;\r\n\r\n    // when the card was render(added on the state in redux)\r\n    //  then the popup moves down\r\n    dispatch(addCard({ nameCard, boardId, listId })).then(() => {\r\n      dispatch(getLists(boardId)).then(() => {\r\n        dispatch(sortingLists(boards));\r\n        socket.emit(\"bond\", { roomId: boardId, message: \"card added\" });\r\n      });\r\n\r\n    });\r\n\r\n    setNameCard(\"\");\r\n  };\r\n\r\n  const cardInput = useRef(null);\r\n  const cardFormRef = useRef(null);\r\n  OutsideClick(cardFormRef, closeForm);\r\n\r\n  useEffect(() => {\r\n    cardInput?.current?.focus?.();\r\n  }, [cardInput]);\r\n  if (!formShow) return null;\r\n  return (\r\n    <div className=\"form-createCard\" ref={cardFormRef}>\r\n      <div>\r\n        <TextareaAutosize\r\n          placeholder=\"Enter a title for this card\"\r\n          value={nameCard}\r\n          onChange={onNameCardChange}\r\n          onKeyDown={(e) => (e.key === \"Enter\" ? createCard() : null)}\r\n          ref={(e) => e?.focus?.()}\r\n        />\r\n      </div>\r\n      <button onClick={createCard}>Add card</button>\r\n      <button onClick={closeForm}>X</button>\r\n    </div>\r\n  );\r\n};\r\n","export default __webpack_public_path__ + \"static/media/dots.c824fe58.svg\";","import React, { useState, useRef } from \"react\";\r\nimport { useParams } from \"react-router-dom\";\r\n\r\nimport { useDispatch } from \"react-redux\";\r\nimport {\r\n  changeName,\r\n  deleteList,\r\n  archiveList,\r\n} from \"../../features/lists/listsSlice\";\r\n\r\nimport { Card } from \"./Card\";\r\n\r\nimport { CreateCard } from \"./CreateCard\";\r\n\r\nimport { Draggable, Droppable } from \"react-beautiful-dnd\";\r\n\r\nimport TextareaAutosize from \"react-textarea-autosize\";\r\n\r\nimport OutsideClick from \"../../hooks/OutsideClick\";\r\n\r\nimport dots from \"../../img/dots.svg\";\r\n\r\nimport \"../../styles/Board/List.css\";\r\n\r\nexport const List = ({\r\n  boards,\r\n  listId,\r\n  listName,\r\n  listCards,\r\n  index,\r\n  cards,\r\n  visibleChangeCard,\r\n  visibleChangeNameCard,\r\n  height,\r\n  socket,\r\n}) => {\r\n  const params = useParams();\r\n\r\n  const { boardId } = params;\r\n\r\n  const dispatch = useDispatch();\r\n\r\n  const [nameList, setNameList] = useState(null);\r\n  const [actionShow, setActionShow] = useState(false);\r\n  const [cardCreateShow, setCardCreateShow] = useState(false);\r\n\r\n  const actionsFrom = useRef(null);\r\n  const nameInput = useRef(null);\r\n\r\n  const sendForm = (e) => {\r\n    if (e.key === \"Enter\" || e.keyCode === 13) {\r\n      dispatch(changeName({ listId, nameList })).then(() => {\r\n        socket.emit(\"bond\", {\r\n          roomId: boardId,\r\n          message: \"list changed\",\r\n          listId,\r\n        });\r\n      });\r\n      e.target.blur();\r\n    }\r\n  };\r\n\r\n  const deletingList = () => {\r\n    dispatch(deleteList({ listId })).then(() => {\r\n      socket.emit(\"bond\", { roomId: boardId, message: \"list deleted\", listId });\r\n    });\r\n  };\r\n\r\n  const archivingList = () => {\r\n    dispatch(archiveList({ listId })).then(() => {\r\n      socket.emit(\"bond\", { roomId: boardId, message: \"list changed\", listId });\r\n    });\r\n  };\r\n\r\n  OutsideClick(actionsFrom, () => setActionShow(false));\r\n  OutsideClick(nameInput, () => nameInput.current.blur());\r\n  return (\r\n    <Draggable key={listId} draggableId={listId} index={index} id={listId}>\r\n      {(provided) => (\r\n        <div\r\n          ref={provided.innerRef}\r\n          {...provided.draggableProps}\r\n          {...provided.dragHandleProps}\r\n          className=\"listBlock\"\r\n        >\r\n          <div className=\"list-title\">\r\n            <TextareaAutosize\r\n              value={nameList === null ? listName : nameList}\r\n              onChange={(e) => setNameList(e.target.value)}\r\n              onKeyDown={sendForm}\r\n              spellCheck=\"false\"\r\n              ref={nameInput}\r\n            />\r\n            <img src={dots} onClick={() => setActionShow(!actionShow)} />\r\n            <div\r\n              className={actionShow === false ? \"hidden\" : \"active\"}\r\n              ref={actionsFrom}\r\n            >\r\n              <img src={dots} onClick={() => setActionShow(!actionShow)} />\r\n              <div onClick={archivingList}>Archive list</div>\r\n              <div onClick={deletingList}>Delete list</div>\r\n            </div>\r\n          </div>\r\n          <Droppable droppableId={listId} type=\"card\">\r\n            {(provided) => (\r\n              <div\r\n                {...provided.droppableProps}\r\n                ref={provided.innerRef}\r\n                style={{ maxHeight: height }}\r\n                className={\"list \" + listName}\r\n              >\r\n                <div>\r\n                  {listCards.map((cardId, index) => {\r\n                    return cards.map((card) => {\r\n                      if (card._id === cardId && !card.archived) {\r\n                        return (\r\n                          <Card\r\n                            key={card._id}\r\n                            card={card}\r\n                            index={index}\r\n                            visibleChangeCard={visibleChangeCard}\r\n                            visibleChangeNameCard={visibleChangeNameCard}\r\n                          />\r\n                        );\r\n                      }\r\n                    });\r\n                  })}\r\n                </div>\r\n\r\n                {provided.placeholder}\r\n                <div className=\"listCreate\">\r\n                  <button\r\n                    onClick={() => setCardCreateShow(true)}\r\n                    className={cardCreateShow === false ? null : \"hidden\"}\r\n                  >\r\n                    Add a card\r\n                  </button>\r\n\r\n                  <CreateCard\r\n                    listId={listId}\r\n                    boards={boards}\r\n                    formShow={cardCreateShow}\r\n                    closeForm={() => setCardCreateShow(false)}\r\n                    socket={socket}\r\n                  />\r\n                </div>\r\n              </div>\r\n            )}\r\n          </Droppable>\r\n        </div>\r\n      )}\r\n    </Draggable>\r\n  );\r\n};\r\n","import React, { useState, useEffect, useRef } from \"react\";\r\nimport { useParams } from \"react-router-dom\";\r\n\r\nimport { useDispatch } from \"react-redux\";\r\nimport { getBoard } from \"../../features/boards/boardsSlice\";\r\nimport { addList } from \"../../features/lists/listsSlice\";\r\n\r\nimport OutsideClick from \"../../hooks/OutsideClick\";\r\n\r\nimport \"../../styles/Board/CreateList.css\";\r\n\r\nexport const CreateList = ({ socket }) => {\r\n  const params = useParams();\r\n  const dispatch = useDispatch();\r\n\r\n  const [nameList, setNameList] = useState(\"\");\r\n  const [listFormShow, setListFormShow] = useState(false);\r\n\r\n  const onNameListChange = (e) => setNameList(e.target.value);\r\n  const visibleListCreate = () => setListFormShow(!listFormShow);\r\n\r\n  const createList = () => {\r\n    if (nameList.replace(/ /g, \"\").length <= 0) {\r\n      listInput.current.focus();\r\n      return null;\r\n    }\r\n\r\n    const { boardId } = params;\r\n\r\n    dispatch(addList({ nameList, boardId })).then(() => {\r\n      socket.emit(\"bond\", { roomId: boardId, message: \"list added\" });\r\n      dispatch(getBoard(boardId));\r\n    });\r\n\r\n    setNameList(\"\");\r\n  };\r\n\r\n  const listInput = useRef(null);\r\n  const listFormRef = useRef(null);\r\n  OutsideClick(listFormRef, () => setListFormShow(false));\r\n\r\n  useEffect(() => {\r\n    listInput?.current?.focus?.();\r\n  }, [listInput]);\r\n  return (\r\n    <li className=\"createList\">\r\n      <button onClick={visibleListCreate} className=\"createList-button\">\r\n        Add a list\r\n      </button>\r\n      <div\r\n        className={listFormShow === false ? \"hidden\" : \"add-list\"}\r\n        ref={listFormRef}\r\n      >\r\n        <input\r\n          ref={(e) => e?.focus?.()}\r\n          type=\"text\"\r\n          placeholder=\"Enter list name\"\r\n          value={nameList}\r\n          onChange={onNameListChange}\r\n          onKeyDown={(e) => (e.key === \"Enter\" ? createList() : null)}\r\n        />\r\n        <button onClick={createList}>Add list</button>\r\n        <button onClick={visibleListCreate}>X</button>\r\n      </div>\r\n    </li>\r\n  );\r\n};\r\n","export default __webpack_public_path__ + \"static/media/recycling.a0beaed9.svg\";","export default __webpack_public_path__ + \"static/media/archive.298d3b52.svg\";","import React, { useRef, useState, useEffect } from \"react\";\r\nimport { useParams } from \"react-router-dom\";\r\n\r\nimport { useDispatch } from \"react-redux\";\r\n\r\nimport {\r\n  changeName,\r\n  changeDescription,\r\n  deleteCard,\r\n  archiveCard,\r\n} from \"../../features/card/cardsSlice\";\r\n\r\nimport TextareaAutosize from \"react-textarea-autosize\";\r\n\r\nimport OutsideClick from \"../../hooks/OutsideClick\";\r\n\r\nimport recycling from \"../../img/recycling.svg\";\r\nimport archive from \"../../img/archive.svg\";\r\n\r\nimport \"../../styles/Board/ChangeCard.css\";\r\n\r\nexport const ChangeCard = ({\r\n  nameCard,\r\n  descriptionCard,\r\n  cardId,\r\n  changeCard,\r\n  isOpen,\r\n  closeForm,\r\n  socket,\r\n}) => {\r\n  const params = useParams();\r\n  const dispatch = useDispatch();\r\n\r\n  const [description, setDescription] = useState(\"\");\r\n  const [visible, setVisible] = useState(\"none\");\r\n\r\n  const sendForm = (e) => {\r\n    if (e.key === \"Enter\" || e.keyCode === 13 || e.type === \"click\") {\r\n      const { boardId } = params;\r\n\r\n      switch (e.target.id) {\r\n        case \"name\":\r\n          dispatch(changeName({ cardId, nameCard })).then(() => {\r\n            socket.emit(\"bond\", {\r\n              roomId: boardId,\r\n              message: \"card changed\",\r\n              cardId,\r\n            });\r\n          });\r\n\r\n          nameInput.current.blur();\r\n          break;\r\n        case \"description\":\r\n          dispatch(changeDescription({ cardId, description })).then(() => {\r\n            socket.emit(\"bond\", {\r\n              roomId: boardId,\r\n              message: \"card changed\",\r\n              cardId,\r\n            });\r\n          });\r\n          break;\r\n        case \"delete\":\r\n          dispatch(deleteCard({ cardId })).then(() => {\r\n            socket.emit(\"bond\", {\r\n              roomId: boardId,\r\n              message: \"card deleted\",\r\n              cardId,\r\n            });\r\n          });\r\n\r\n          closeForm();\r\n          break;\r\n        case \"archive\":\r\n          dispatch(archiveCard({ cardId })).then(() => {\r\n            socket.emit(\"bond\", {\r\n              roomId: boardId,\r\n              message: \"card changed\",\r\n              cardId,\r\n            });\r\n          });\r\n\r\n          closeForm();\r\n          break;\r\n        default:\r\n          break;\r\n      }\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    if (descriptionCard.length > 0) {\r\n      setDescription(descriptionCard);\r\n    }\r\n  }, [descriptionCard]);\r\n\r\n  const nameInput = useRef(false);\r\n  const form = useRef(null);\r\n  const descript = useRef(null);\r\n\r\n  OutsideClick(form, () => closeForm());\r\n  OutsideClick(descript, () => setVisible(\"none\"));\r\n\r\n  if (!isOpen) return null;\r\n  return (\r\n    <div>\r\n      <div className=\"blackBG\" style={{ left: 0, display: \"flex\" }}>\r\n        <div className=\"changeCard\" ref={form}>\r\n          <div className=\"changeCard-title\">Title</div>\r\n          <TextareaAutosize\r\n            id=\"name\"\r\n            value={nameCard}\r\n            onChange={changeCard}\r\n            onKeyDown={sendForm}\r\n            onBlur={(e) => {\r\n              sendForm(e);\r\n            }}\r\n            spellCheck=\"false\"\r\n            ref={nameInput}\r\n          />\r\n          <div className=\"description\" ref={descript}>\r\n            Description\r\n            <TextareaAutosize\r\n              placeholder=\"Add a more detail description...\"\r\n              value={description}\r\n              onChange={(e) => setDescription(e.target.value)}\r\n              spellCheck=\"false\"\r\n              onFocus={() => setVisible(\"block\")}\r\n            />\r\n            <button\r\n              id=\"description\"\r\n              onClick={(e) => {\r\n                setVisible(\"none\");\r\n                sendForm(e);\r\n              }}\r\n              style={{ display: visible }}\r\n            >\r\n              Save\r\n            </button>\r\n            <button\r\n              id=\"description\"\r\n              onClick={() => setVisible(\"none\")}\r\n              style={{ display: visible }}\r\n            >\r\n              X\r\n            </button>\r\n          </div>\r\n          <button onClick={closeForm}>X</button>\r\n          <img id=\"delete\" src={recycling} onClick={sendForm} />\r\n          <img id=\"archive\" src={archive} onClick={sendForm} />\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n","import React, { useRef } from \"react\";\r\nimport { useParams} from \"react-router-dom\";\r\n\r\nimport { useDispatch } from \"react-redux\";\r\n\r\nimport { changeName } from \"../../features/card/cardsSlice\";\r\n\r\nimport TextareaAutosize from \"react-textarea-autosize\";\r\n\r\nimport OutsideClick from \"../../hooks/OutsideClick\";\r\n\r\nimport \"../../styles/Board/ChangeNameCard.css\";\r\n\r\nexport const ChangeNameCard = ({\r\n  nameCard,\r\n  changeNameCard,\r\n  cardId,\r\n  closeForm,\r\n  xPos,\r\n  yPos,\r\n  height,\r\n  socket,\r\n}) => {\r\n  const params = useParams();\r\n  const dispatch = useDispatch();\r\n\r\n  const sendForm = () => {\r\n    const { boardId } = params;\r\n\r\n    dispatch(changeName({ cardId, nameCard })).then(() => {\r\n      socket.emit(\"bond\", { roomId: boardId, message: \"card changed\", cardId });\r\n    });\r\n    closeForm();\r\n  };\r\n\r\n  const form = useRef(null);\r\n\r\n  OutsideClick(form, () => closeForm());\r\n\r\n  yPos > height ? (yPos = height) : (yPos -= 7);\r\n\r\n  return (\r\n    <div\r\n      className=\"blackBG\"\r\n      style={{\r\n        left: 0,\r\n        backgroundColor: \"#0009\",\r\n      }}\r\n    >\r\n      <div\r\n        className=\"changeNameCard\"\r\n        ref={form}\r\n        style={{ transform: `translate(${xPos - 228}px, ${yPos}px)` }}\r\n      >\r\n        <TextareaAutosize\r\n          id=\"name\"\r\n          value={nameCard}\r\n          onChange={changeNameCard}\r\n        />\r\n        <button onClick={sendForm}>Save</button>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n","export default __webpack_public_path__ + \"static/media/restore.1f1d5f30.svg\";","import React from \"react\";\r\nimport { useParams } from \"react-router-dom\";\r\n\r\nimport { useDispatch } from \"react-redux\";\r\n\r\nimport { unarchiveList, deleteList } from \"../../features/lists/listsSlice\";\r\n\r\nimport recycling from \"../../img/recycling.svg\";\r\nimport restore from \"../../img/restore.svg\";\r\n\r\nimport \"../../styles/Board/ArchiveList.css\";\r\n\r\nexport const ArchiveList = ({ height, back, close, lists, socket }) => {\r\n  const params = useParams();\r\n\r\n  const { boardId } = params;\r\n\r\n  const dispatch = useDispatch();\r\n\r\n  const unarchive = (listId) =>\r\n    dispatch(unarchiveList({ listId })).then(() => {\r\n      socket.emit(\"bond\", { roomId: boardId, message: \"list changed\", listId });\r\n    });\r\n  const deleting = (listId) =>\r\n    dispatch(deleteList({ listId })).then(() => {\r\n      socket.emit(\"bond\", { roomId: boardId, message: \"list deleted\", listId });\r\n    });\r\n\r\n  return (\r\n    <div className=\"archive\" style={{ height: height - 90 }}>\r\n      <div className=\"archiveTitle\">\r\n        <button onClick={back}>&#60;</button>\r\n        Archived Lists\r\n        <button onClick={close}>X</button>\r\n      </div>\r\n      <hr />\r\n\r\n      <ul className=\"archivedLists\">\r\n        {lists.map((list) => {\r\n          if (list.archived) {\r\n            return (\r\n              <li key={list._id}>\r\n                {list.nameList}\r\n                <img src={restore} onClick={() => unarchive(list._id)} />\r\n                <img src={recycling} onClick={() => deleting(list._id)} />\r\n              </li>\r\n            );\r\n          }\r\n        })}\r\n      </ul>\r\n    </div>\r\n  );\r\n};\r\n","import React from \"react\";\r\nimport { useParams } from \"react-router-dom\";\r\n\r\nimport { useDispatch } from \"react-redux\";\r\n\r\nimport { unarchiveCard, deleteCard } from \"../../features/card/cardsSlice\";\r\n\r\nimport recycling from \"../../img/recycling.svg\";\r\nimport restore from \"../../img/restore.svg\";\r\n\r\nimport \"../../styles/Board/ArchiveCard.css\";\r\n\r\nexport const ArchiveCard = ({ height, back, close, cards, socket }) => {\r\n  const params = useParams();\r\n\r\n  const { boardId } = params;\r\n\r\n  const dispatch = useDispatch();\r\n\r\n  const unarchive = (cardId) =>\r\n    dispatch(unarchiveCard({ cardId })).then(() => {\r\n      socket.emit(\"bond\", {\r\n        roomId: boardId,\r\n        message: \"card changed\",\r\n        cardId,\r\n      });\r\n    });\r\n  const deleting = (cardId) =>\r\n    dispatch(deleteCard({ cardId })).then(() => {\r\n      socket.emit(\"bond\", {\r\n        roomId: boardId,\r\n        message: \"card deleted\",\r\n        cardId,\r\n      });\r\n    });\r\n\r\n  return (\r\n    <div className=\"archive\" style={{ height: height - 90 }}>\r\n      <div className=\"archiveTitle\">\r\n        <button onClick={back}>&#60;</button>\r\n        Archived Cards\r\n        <button onClick={close}>X</button>\r\n      </div>\r\n      <hr />\r\n      <ul className=\"archivedLists\">\r\n        {cards.map((card) => {\r\n          if (card.archived) {\r\n            return (\r\n              <li key={card._id}>\r\n                {card.nameCard}\r\n                <img src={restore} onClick={() => unarchive(card._id)} />\r\n                <img src={recycling} onClick={() => deleting(card._id)} />\r\n              </li>\r\n            );\r\n          }\r\n        })}\r\n      </ul>\r\n    </div>\r\n  );\r\n};\r\n","import React, { useState, useEffect } from \"react\";\r\nimport { useParams } from \"react-router-dom\";\r\n\r\nimport uniqid from \"uniqid\";\r\n\r\nimport \"../../styles/Board/ShareBoard.css\";\r\n\r\nexport const ShareBoard = ({ height, back, close, socket, shareLink }) => {\r\n  const params = useParams();\r\n\r\n  const [link, setLink] = useState(null);\r\n\r\n  useEffect(() => {\r\n    setLink(shareLink);\r\n  }, []);\r\n\r\n  const generateLink = () => {\r\n    const boardId = params.boardId;\r\n    const boardName = params.name;\r\n\r\n    const newLink = `http://localhost:3000/invite/b/${boardId}/${uniqid()}/${boardName}`;\r\n    setLink(newLink);\r\n    socket.emit(\"addLink\", newLink, boardId);\r\n    socket.emit(\"bond\", {\r\n      roomId: boardId,\r\n      message: \"disconnect\",\r\n    });\r\n  };\r\n\r\n  useEffect(() => {\r\n    socket.on(\"addLink\", (data) => {\r\n      if (data === \"Added\") {\r\n        const roomId = params.boardId;\r\n\r\n        socket.emit(\"room\", roomId);\r\n      }\r\n    });\r\n  }, [socket]);\r\n\r\n  return (\r\n    <div className=\"share\" style={{ height: height - 90 }}>\r\n      <div className=\"shareTitle\">\r\n        <button onClick={back}>&#60;</button>\r\n        Share board\r\n        <button onClick={close}>X</button>\r\n      </div>\r\n      <hr />\r\n      <ul className=\"sharedMenu\">\r\n        <li>\r\n          <input readOnly=\"readonly\" value={link} />\r\n        </li>\r\n        <li>\r\n          <button onClick={generateLink}>Generate link</button>\r\n        </li>\r\n        <li>\r\n          <button>Delete link</button>\r\n        </li>\r\n      </ul>\r\n    </div>\r\n  );\r\n};\r\n","export default __webpack_public_path__ + \"static/media/makeLink.618bc37c.svg\";","import React, { useState, useEffect } from \"react\";\r\nimport { useNavigate, useParams } from \"react-router-dom\";\r\n\r\nimport { DragDropContext, Droppable } from \"react-beautiful-dnd\";\r\n\r\nimport { useSelector, useDispatch } from \"react-redux\";\r\nimport {\r\n  getBoard,\r\n  getBoards,\r\n  changeLists,\r\n  changeData,\r\n} from \"../../features/boards/boardsSlice\";\r\nimport {\r\n  getLists,\r\n  getList,\r\n  sortingLists,\r\n  changeCards,\r\n  removeList,\r\n} from \"../../features/lists/listsSlice\";\r\nimport { getCards, getCard, removeCard } from \"../../features/card/cardsSlice\";\r\n\r\nimport useWindowHeight from \"../../hooks/heightWindowHook\";\r\n\r\nimport { Loader } from \"../blanks/Loader\";\r\nimport { Header } from \"../blanks/Header\";\r\nimport { CreateBoards } from \"../CreateBoards\";\r\nimport { BoardName } from \"./BoardName\";\r\nimport { List } from \"./List\";\r\nimport { CreateList } from \"./CreateList\";\r\nimport { ChangeCard } from \"./ChangeCard\";\r\nimport { ChangeNameCard } from \"./ChangeNameCard\";\r\nimport { Menu } from \"./Menu\";\r\n\r\nimport \"../../styles/Board/Board.css\";\r\n\r\nexport const Board = ({ socket }) => {\r\n  const navigate = useNavigate();\r\n  const params = useParams();\r\n\r\n  const { height } = useWindowHeight();\r\n\r\n  const dispatch = useDispatch();\r\n  const { boards } = useSelector((state) => state.boards);\r\n  const { lists } = useSelector((state) => state.lists);\r\n  const { cards, status } = useSelector((state) => state.cards);\r\n\r\n  const [firstUpdate, setFirstUpdate] = useState(0);\r\n\r\n  const [createShow, setCreateShow] = useState(false);\r\n\r\n  const [changeCard, setChangeCard] = useState(false);\r\n  const [changeNameCard, setChangeNameCard] = useState(false);\r\n\r\n  const [nameCard, setNameCard] = useState(\"\");\r\n  const [descriptionCard, setDescriptionCard] = useState(\"\");\r\n\r\n  const [cardId, setCardId] = useState(null);\r\n\r\n  const [xPos, setXPos] = useState(null);\r\n  const [yPos, setYPos] = useState(null);\r\n\r\n  const [connect, setConnect] = useState(false);\r\n\r\n  const visibleChangeCard = (e, id, description) => {\r\n    if (e.target.innerText === \"\") return null;\r\n    setCardId(id);\r\n\r\n    setNameCard(e.target.innerText);\r\n    setDescriptionCard(description);\r\n\r\n    setChangeCard(true);\r\n  };\r\n\r\n  const visibleChangeNameCard = (e, nameCard, id) => {\r\n    setNameCard(nameCard);\r\n\r\n    setCardId(id);\r\n\r\n    setXPos(e.target.getBoundingClientRect().x);\r\n    setYPos(e.target.getBoundingClientRect().y);\r\n\r\n    setChangeNameCard(true);\r\n  };\r\n\r\n  useEffect(() => {\r\n    const accessToken = localStorage.getItem(\"accessToken\");\r\n\r\n    if (!accessToken) navigate(\"/sig\");\r\n\r\n    try {\r\n      socket.emit(\"tokenVerify\", JSON.parse(accessToken));\r\n    } catch (error) {\r\n      socket.emit(\"tokenVerify\", accessToken);\r\n    }\r\n\r\n    socket.on(\"tokenVerify\", (data) => {\r\n      if (data !== \"Error\") {\r\n        const { newToken, idUser, userName } = data;\r\n\r\n        const { boardId } = params;\r\n\r\n        if (newToken) localStorage.setItem(\"accessToken\", newToken);\r\n\r\n        localStorage.setItem(\"userId\", idUser);\r\n        localStorage.setItem(\"userName\", userName);\r\n\r\n        socket.emit(\"checkUser\", { idUser, boardId });\r\n\r\n        socket.off(\"tokenVerify\");\r\n      } else {\r\n        navigate(\"/error/404\");\r\n      }\r\n    });\r\n\r\n    socket.on(\"checkUser\", (data) => {\r\n      if (data !== \"Error\") {\r\n        const userId = localStorage.getItem(\"userId\");\r\n\r\n        const { boardId } = params;\r\n\r\n        const date = Date.now();\r\n        dispatch(changeData({ boardId, date }));\r\n\r\n        dispatch(getLists(boardId));\r\n\r\n        dispatch(getBoards(userId));\r\n\r\n        dispatch(getCards(boardId));\r\n\r\n        setFirstUpdate(0);\r\n      } else {\r\n        const userName = localStorage.getItem(\"userName\");\r\n        navigate(`/${userName}/boards`);\r\n      }\r\n    });\r\n  }, [params]);\r\n\r\n  useEffect(() => {\r\n    socket.on(\"bond\", (data) => {\r\n      const { boardId } = params;\r\n\r\n      const { message, position } = data;\r\n      const { listId, currentListId } = data;\r\n      const { cardId, fromListId, toListId } = data;\r\n\r\n      const userId = localStorage.getItem(\"userId\");\r\n\r\n      switch (message) {\r\n        case \"Update board\":\r\n          dispatch(getBoard(boardId));\r\n\r\n          break;\r\n        case \"Update lists\":\r\n          dispatch(getBoards(userId));\r\n\r\n          dispatch(getLists(boardId));\r\n\r\n          break;\r\n        case \"Update list\":\r\n          dispatch(getList(listId));\r\n\r\n          break;\r\n        case \"Delete list\":\r\n          dispatch(removeList(listId));\r\n          break;\r\n\r\n        case \"Move list\":\r\n          dispatch(changeLists({ position, boardId, currentListId }));\r\n          break;\r\n\r\n        case \"Update cards\":\r\n          dispatch(getLists(boardId));\r\n\r\n          dispatch(getCards(boardId));\r\n\r\n          break;\r\n\r\n        case \"Update card\":\r\n          dispatch(getCard(cardId));\r\n\r\n          break;\r\n\r\n        case \"Delete card\":\r\n          dispatch(removeCard({ cardId }));\r\n\r\n          break;\r\n\r\n        case \"Move card\":\r\n          dispatch(getList(fromListId));\r\n          dispatch(getList(toListId));\r\n\r\n          break;\r\n        case \"disconnect\":\r\n          const userName = localStorage.getItem(\"userName\");\r\n          navigate(`/${userName}/boards`);\r\n\r\n          break;\r\n        default:\r\n          break;\r\n      }\r\n    });\r\n  }, [socket]);\r\n\r\n  const onDrop = (e) => {\r\n    if (e.type === \"list\") {\r\n      const position = e.destination.index;\r\n      const { boardId } = params;\r\n      const currentListId = e.draggableId;\r\n\r\n      dispatch(changeLists({ position, boardId, currentListId }));\r\n\r\n      socket.emit(\"bond\", {\r\n        roomId: boardId,\r\n        message: \"list moved\",\r\n        position,\r\n        currentListId,\r\n      });\r\n    } else if (e.type === \"card\") {\r\n      try {\r\n        const { boardId } = params;\r\n\r\n        const fromListId = e.source.droppableId;\r\n        const toListId = e.destination.droppableId;\r\n        const position = e.destination.index;\r\n        const cardId = e.draggableId;\r\n\r\n        dispatch(changeCards({ fromListId, toListId, position, cardId }));\r\n\r\n        socket.emit(\"bond\", {\r\n          roomId: boardId,\r\n          message: \"card moved\",\r\n          cardId,\r\n          fromListId,\r\n          toListId,\r\n          position,\r\n        });\r\n      } catch (error) {}\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    if (boards.length > 0 && lists.length > 0) {\r\n      boards.map((board) => {\r\n        if (board._id === params.boardId && board.shareLink && !connect) {\r\n          const roomId = params.boardId;\r\n          socket.emit(\"room\", roomId);\r\n\r\n          setConnect(true);\r\n        }\r\n      });\r\n      dispatch(sortingLists(boards));\r\n    }\r\n  }, [boards]);\r\n\r\n  const [drag, setDrag] = useState(false);\r\n\r\n  return status !== \"succeeded\" && firstUpdate === 0 ? (\r\n    <Loader />\r\n  ) : (\r\n    <div className=\"boardMenu\" style={{ height: height }}>\r\n      <Header boards={boards} createShow={() => setCreateShow(true)} />\r\n      <div className=\"lists\" style={{ height: height - 127 }}>\r\n        <div className=\"container\">\r\n          <div className=\"lists__inner\" style={{ height: height - 200 }}>\r\n            {boards.map((board) => {\r\n              if (board._id === params.boardId) {\r\n                return (\r\n                  <div key={board._id} className=\"action-board\">\r\n                    <BoardName name={board.nameBoard} socket={socket} />\r\n                    <Menu\r\n                      height={height - 108}\r\n                      boards={boards}\r\n                      lists={lists}\r\n                      cards={cards}\r\n                      socket={socket}\r\n                      shareLink={board.shareLink}\r\n                    />\r\n                  </div>\r\n                );\r\n              }\r\n            })}\r\n\r\n            <ul\r\n              className=\"scrollBoard\"\r\n              style={drag === false ? { transform: `translateZ(10px)` } : null}\r\n            >\r\n              <li>\r\n                <DragDropContext\r\n                  onDragStart={() => setDrag(true)}\r\n                  onDragEnd={(e) => {\r\n                    onDrop(e);\r\n                    setDrag(false);\r\n                  }}\r\n                >\r\n                  <Droppable\r\n                    droppableId=\"lists\"\r\n                    direction=\"horizontal\"\r\n                    type=\"list\"\r\n                  >\r\n                    {(provided) => (\r\n                      <div\r\n                        ref={provided.innerRef}\r\n                        {...provided.draggableProps}\r\n                        {...provided.dragHandleProps}\r\n                        className=\"sheetList\"\r\n                      >\r\n                        {lists.map((list, index) =>\r\n                          !list.archived ? (\r\n                            <List\r\n                              key={list._id + index}\r\n                              boards={boards}\r\n                              listId={list._id}\r\n                              listName={list.nameList}\r\n                              listCards={list.cards}\r\n                              index={index}\r\n                              cards={cards}\r\n                              visibleChangeCard={visibleChangeCard}\r\n                              visibleChangeNameCard={visibleChangeNameCard}\r\n                              height={height - 310}\r\n                              socket={socket}\r\n                            />\r\n                          ) : null\r\n                        )}\r\n                        {provided.placeholder}\r\n                      </div>\r\n                    )}\r\n                  </Droppable>\r\n                </DragDropContext>\r\n              </li>\r\n              <CreateList socket={socket} />\r\n            </ul>\r\n            <ChangeCard\r\n              nameCard={nameCard}\r\n              descriptionCard={descriptionCard}\r\n              changeDescription={(e) => setDescriptionCard(e.target.value)}\r\n              cardId={cardId}\r\n              changeCard={(e) => setNameCard(e.target.value)}\r\n              isOpen={changeCard}\r\n              closeForm={() => setChangeCard(false)}\r\n              socket={socket}\r\n            />\r\n\r\n            {changeNameCard === false ? null : (\r\n              <ChangeNameCard\r\n                nameCard={nameCard}\r\n                changeNameCard={(e) => setNameCard(e.target.value)}\r\n                cardId={cardId}\r\n                closeForm={() => setChangeNameCard(false)}\r\n                xPos={xPos}\r\n                yPos={yPos}\r\n                height={height - 270}\r\n                socket={socket}\r\n              />\r\n            )}\r\n          </div>\r\n        </div>\r\n      </div>\r\n      <CreateBoards\r\n        createShow={createShow}\r\n        changeShow={() => setCreateShow(false)}\r\n        height={height}\r\n        boards={boards}\r\n      />\r\n    </div>\r\n  );\r\n};\r\n","import React, { useEffect } from \"react\";\r\n\r\nimport { useNavigate, useParams } from \"react-router-dom\";\r\n\r\nimport { Loader } from \"./blanks/Loader\";\r\n\r\nexport const ValidateInvite = ({ socket }) => {\r\n  const navigate = useNavigate();\r\n  const params = useParams();\r\n\r\n  useEffect(() => {\r\n    const userId = localStorage.getItem(\"userId\");\r\n\r\n    if (!userId) navigate(\"/\");\r\n\r\n    const link = window.location.href;\r\n\r\n    socket.emit(\"validateInvite\", { link, userId });\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    socket.on(\"validateInvite\", (data) => {\r\n      console.log(data);\r\n\r\n      socket.off(\"validateInvite\");\r\n\r\n      if (data === \"Already added\") {\r\n        navigate(\"/board/\" + params.boardId + \"/\" + params.name);\r\n      } else if (data === \"Added\") {\r\n        const roomId = params.boardId;\r\n        socket.emit(\"room\", roomId);\r\n\r\n        navigate(\"/board/\" + params.boardId + \"/\" + params.name);\r\n      }\r\n    });\r\n  }, [socket]);\r\n\r\n  return <Loader />;\r\n};\r\n","import React, { useState, useRef, useEffect, useLayoutEffect } from \"react\";\r\nimport { useParams, useNavigate } from \"react-router-dom\";\r\n\r\nimport { useSelector, useDispatch } from \"react-redux\";\r\nimport { getBoards } from \"../../features/boards/boardsSlice\";\r\n\r\nimport { Header } from \"../blanks/Header\";\r\nimport { CreateBoards } from \"../CreateBoards\";\r\n\r\nimport useWindowHeight from \"../../hooks/heightWindowHook\";\r\n\r\nimport {axiosInstance} from \"../../config\";\r\n\r\nimport \"../../styles/profile/Profile.css\";\r\n\r\nexport const Profile = () => {\r\n  const dispatch = useDispatch();\r\n\r\n  const params = useParams();\r\n  const navigate = useNavigate();\r\n\r\n  const { height } = useWindowHeight();\r\n\r\n  const { boards } = useSelector((state) => state.boards);\r\n\r\n  const [createShow, setCreateShow] = useState(false);\r\n  const [heightBody, setHeightBody] = useState(null);\r\n  const [name, setName] = useState(params.userName);\r\n\r\n  const [firstUpdate, setFirstUpdate] = useState(0);\r\n\r\n  const heightRef = useRef(null);\r\n\r\n  useEffect(() => {\r\n    const idUser = localStorage.getItem(\"userId\");\r\n\r\n    dispatch(getBoards(idUser));\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    setHeightBody(heightRef?.current?.clientHeight);\r\n  });\r\n\r\n  const changeName = () => {\r\n    axiosInstance({\r\n      config: {\r\n        headers: {\r\n          \"Content-Type\": \"application/json\",\r\n          Accept: \"application/json\",\r\n        },\r\n      },\r\n      method: \"POST\",\r\n      url: \"/user/change/name\",\r\n      data: {\r\n        userName: name,\r\n        oldName: params.userName,\r\n      },\r\n    }).then((response) => {\r\n      if (response.status === 200) {\r\n        localStorage.setItem(\"userName\", response.data.userName);\r\n\r\n        navigate(\"../\" + response.data.userName + \"/profile\");\r\n      }\r\n    });\r\n  };\r\n\r\n  useLayoutEffect(() => {\r\n    if (firstUpdate < 2) {\r\n      setFirstUpdate(firstUpdate + 1);\r\n      return;\r\n    }\r\n    const boardId = boards[boards.length - 1]._id;\r\n    const boardName = boards[boards.length - 1].nameBoard;\r\n    navigate(\"/board/\" + boardId + \"/\" + boardName);\r\n  }, [boards]);\r\n\r\n\r\n\r\n  return (\r\n    <div className=\"profile\" style={{ minHeight: height }} ref={heightRef}>\r\n      <Header boards={boards} createShow={() => setCreateShow(true)} />\r\n      <div className=\"container\">\r\n        <div className=\"profile__inner\">\r\n          <div>Hello {params.userName}</div>\r\n          <div>\r\n            User name\r\n            <input value={name} onChange={(e) => setName(e.target.value)} />\r\n            <button onClick={changeName}>Save</button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      <CreateBoards\r\n        createShow={createShow}\r\n        changeShow={() => setCreateShow(false)}\r\n        height={heightBody}\r\n        boards={boards}\r\n      />\r\n    </div>\r\n  );\r\n};\r\n","import React from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\n\r\nexport const NotFound = () => {\r\n  return (\r\n    <div className=\"notFound\">\r\n      <div className=\"container\">\r\n        <div className=\"notFound__inner\">\r\n          <h1> 404 </h1>\r\n          <div>Page Not Found</div>\r\n          <div className=\"notFound-exit\">\r\n            <Link to=\"/sig\"> GO BACK </Link>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n","import React from \"react\";\nimport { BrowserRouter, Routes, Route, Navigate } from \"react-router-dom\";\n\nimport { SignInFrom } from \"./components/form/SignInFrom\";\nimport { RegistrationForm } from \"./components/form/RegistrationForm\";\nimport { ForgotForm } from \"./components/form/ForgotForm\";\nimport { ResetForm } from \"./components/form/ResetForm\";\n\nimport { Boards } from \"./components/Boards\";\nimport { Board } from \"./components/board/Board\";\n\nimport { ValidateInvite } from \"./components/ValidateInvite\";\n\nimport { Profile } from \"./components/profile/Profile\";\n\nimport { NotFound } from \"./components/NotFound\";\n\nimport \"./styles/reset.css\";\nimport \"./styles/blanks.css\";\nimport \"./styles/formStyles.css\";\nimport \"./styles/Boards.css\";\n\nimport useWindowHeight from \"./hooks/heightWindowHook\";\nfunction App({ socket }) {\n  const { height } = useWindowHeight();\n\n  return (\n    <BrowserRouter>\n      <div className=\"App\">\n        <Routes>\n          <Route\n            path=\"/sig\"\n            element={<SignInFrom socket={socket} height={height} />}\n          />\n          <Route\n            path=\"/reg\"\n            element={<RegistrationForm socket={socket} height={height} />}\n          />\n          <Route\n            path=\"/forg\"\n            element={<ForgotForm socket={socket} height={height} />}\n          />\n          <Route\n            path=\"/:token/reset/\"\n            element={<ResetForm socket={socket} height={height} />}\n          />\n\n          <Route\n            path=\"/:userName/boards\"\n            element={<Boards socket={socket} height={height}/>}\n          />\n          <Route\n            path=\"/board/:boardId/:name\"\n            element={<Board socket={socket} />}\n          />\n          <Route\n            path=\"invite/b/:boardId/:uniqId/:name\"\n            element={<ValidateInvite socket={socket} />}\n          />\n\n          <Route\n            path=\"/:userName/profile\"\n            element={<Profile socket={socket} />}\n          />\n\n          <Route path=\"/error/:code\" element={<NotFound />} />\n\n          <Route path=\"/\" element={<Navigate replace to=\"/sig\" />} />\n        </Routes>\n      </div>\n    </BrowserRouter>\n  );\n}\n\nexport default App;\n","import { configureStore } from '@reduxjs/toolkit';\n\nimport boardsReducer from \"../features/boards/boardsSlice\";\nimport listsSlice from '../features/lists/listsSlice';\nimport cardsSlice from \"../features/card/cardsSlice\";\n\nexport const store = configureStore({\n  reducer: {\n    boards: boardsReducer,\n    lists: listsSlice,\n    cards: cardsSlice,\n  },\n});\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport App from \"./App\";\nimport { store } from \"./app/store\";\nimport { Provider } from \"react-redux\";\n\nimport { io } from \"socket.io-client\";\n\nconst socket = io(\"https://mytrello-backend.onrender.com/\");\nsocket.on(\"connect\", () => {\n  console.log(socket.id);\n});\n\nReactDOM.render(\n  <React.StrictMode>\n    <Provider store={store}>\n      <App socket={socket} />\n    </Provider>\n  </React.StrictMode>,\n  document.getElementById(\"root\"),\n\n);\n"],"sourceRoot":""}